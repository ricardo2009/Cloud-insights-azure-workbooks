{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 1,
            "content": {
              "json": "<h1 style=\"color: #003366; background: linear-gradient(90deg,#e6f7ff,#b3c6e6); padding: 20px; border-radius: 12px; text-shadow: 0 2px 8px #000; font-size: 2.5em; letter-spacing: 2px;\">üåå Azure Futurist Observability Center</h1>\n<p style=\"color:#003366; font-size:1.2em;\">Vis√£o centralizada, interativa e visualmente impactante de toda a sua nuvem Azure. KPIs, status, tend√™ncias e insights em tempo real, com navega√ß√£o intuitiva e legendas explicativas.\n</p>"
            },
            "name": "header-futurist"
          },
          {
            "type": 1,
            "content": {
              "json": "<div style=\"display:flex;align-items:center;justify-content:space-between;background:#e3f2fd;padding:10px 20px;border-radius:10px;margin-bottom:10px;\"><span style=\"font-size:1.1em;color:#003366;\"><b>Bem-vindo ao Futurist Workbook!</b> <span style=\"background:#ffd700;color:#003366;padding:2px 8px;border-radius:6px;font-size:0.9em;\">Novo</span></span><button onclick=\"window.open('https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-overview','_blank')\" style=\"background:#003366;color:#fff;border:none;padding:6px 16px;border-radius:6px;cursor:pointer;font-size:0.95em;\">Ajuda & Exemplos</button></div>"
            },
            "name": "header-onboarding"
          },
          {
            "type": 9,
            "content": {
              "version": "KqlParameterItem/1.0",
              "parameters": [
                {
                  "id": "sub",
                  "name": "Subscription",
                  "label": "Assinatura",
                  "type": 6,
                  "isRequired": true,
                  "multiSelect": true,
                  "quote": "'",
                  "delimiter": ",",
                  "value": ["value::all"],
                  "typeSettings": {"additionalResourceOptions": ["value::all"], "includeAll": true}
                },
                {
                  "id": "ws",
                  "name": "LogAnalyticsWorkspace",
                  "label": "Workspace",
                  "type": 5,
                  "isRequired": true,
                  "multiSelect": true,
                  "quote": "'",
                  "delimiter": ",",
                  "query": "where type =~ 'microsoft.operationalinsights/workspaces' | summarize by id, name | project id, name",
                  "typeSettings": {"additionalResourceOptions": ["value::all"]},
                  "defaultValue": "value::all",
                  "queryType": 1,
                  "resourceType": "microsoft.resourcegraph/resources",
                  "dependsOn": ["Subscription"]
                },
                {
                  "id": "timerange",
                  "name": "timerange",
                  "label": "Per√≠odo",
                  "type": 4,
                  "value": {"durationMs": 86400000},
                  "typeSettings": {"selectableValues": [{"durationMs": 3600000}, {"durationMs": 86400000}, {"durationMs": 604800000}]}
                },
                {
                  "id": "rg",
                  "name": "ResourceGroup",
                  "label": "Resource Group",
                  "type": 2,
                  "isRequired": false,
                  "multiSelect": true,
                  "quote": "'",
                  "delimiter": ",",
                  "query": "resourcecontainers | where type == 'microsoft.resources/resourcegroups' | project name",
                  "typeSettings": {"additionalResourceOptions": ["value::all"]},
                  "defaultValue": "value::all",
                  "queryType": 1,
                  "resourceType": "microsoft.resourcegraph/resources",
                  "dependsOn": ["Subscription"]
                },
                {
                  "id": "region",
                  "name": "Region",
                  "label": "Regi√£o",
                  "type": 2,
                  "isRequired": false,
                  "multiSelect": true,
                  "quote": "'",
                  "delimiter": ",",
                  "query": "resources | summarize by location | project location",
                  "typeSettings": {"additionalResourceOptions": ["value::all"]},
                  "defaultValue": "value::all",
                  "queryType": 1,
                  "resourceType": "microsoft.resourcegraph/resources",
                  "dependsOn": ["Subscription"]
                },
                {
                  "id": "tag",
                  "name": "Tag",
                  "label": "Tag",
                  "type": 2,
                  "isRequired": false,
                  "multiSelect": true,
                  "quote": "'",
                  "delimiter": ",",
                  "query": "mv-expand tags=tags | summarize by tostring(tags) | project Tag=tags",
                  "typeSettings": {"additionalResourceOptions": ["value::all"]},
                  "defaultValue": "value::all",
                  "queryType": 1,
                  "resourceType": "microsoft.resourcegraph/resources",
                  "dependsOn": ["Subscription"]
                }
              ],
              "style": "formVertical",
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "parameters-futurist"
          },
          {
            "type": 1,
            "content": {
              "json": "<div style=\"margin:10px 0 20px 0;display:flex;gap:10px;flex-wrap:wrap;\"><span style=\"background:#1976d2;color:#fff;padding:4px 12px;border-radius:8px;font-size:0.95em;\">üîÑ Atualiza√ß√£o autom√°tica ativada</span><span style=\"background:#ffd700;color:#003366;padding:4px 12px;border-radius:8px;font-size:0.95em;\">‚ö†Ô∏è KPIs em tempo real</span><span style=\"background:#d32f2f;color:#fff;padding:4px 12px;border-radius:8px;font-size:0.95em;\">üî• Alertas cr√≠ticos</span></div>"
            },
            "name": "badges-status"
          },
          {
            "type": 1,
            "content": {
              "json": "<div style=\"margin-bottom:10px;\"><b>Dica:</b> Passe o mouse sobre os √≠cones <span style=\"color:#1976d2;font-size:1.2em;\">‚ÑπÔ∏è</span> para ver explica√ß√µes r√°pidas sobre m√©tricas e gr√°ficos.</div>"
            },
            "name": "tooltip-info"
          },
          {
            "type": 1,
            "content": {
              "json": "<div style=\"background:#fff3cd;color:#856404;padding:10px 16px;border-radius:8px;margin-bottom:10px;display:none;\" id=\"placeholder-heavy-graph\"><b>Carregando visualiza√ß√£o avan√ßada...</b> <span style=\"font-size:1.1em;\">‚è≥</span></div>"
            },
            "name": "placeholder-heavy-graph"
          },
          {
            "type": 1,
            "content": {
              "json": "<div style=\"margin:10px 0;\"><button onclick=\"exportWorkbook('csv')\" style=\"background:#003366;color:#fff;border:none;padding:6px 16px;border-radius:6px;cursor:pointer;font-size:0.95em;\">Exportar CSV</button> <button onclick=\"exportWorkbook('excel')\" style=\"background:#003366;color:#fff;border:none;padding:6px 16px;border-radius:6px;cursor:pointer;font-size:0.95em;\">Exportar Excel</button> <button onclick=\"exportWorkbook('pdf')\" style=\"background:#003366;color:#fff;border:none;padding:6px 16px;border-radius:6px;cursor:pointer;font-size:0.95em;\">Exportar PDF</button></div>"
            },
            "name": "export-buttons"
          },
          {
            "type": 11,
            "content": {
              "version": "LinkItem/1.0",
              "style": "toolbar",
              "links": [                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üåê Vis√£o Geral", "subTarget": "Overview", "style": "link", "icon": "Dashboard"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üï∏Ô∏è Networking", "subTarget": "Networking", "style": "link", "icon": "Connect"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üß© Apps", "subTarget": "Apps", "style": "link", "icon": "WebApp"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üóÑÔ∏è Dados", "subTarget": "Data", "style": "link", "icon": "Database"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üß† IA & ML", "subTarget": "AI", "style": "link", "icon": "CognitiveServicesAI"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üõ°Ô∏è Seguran√ßa", "subTarget": "Security", "style": "link", "icon": "Lock"},
                {"cellValue": "TabMain", "linkTarget": "parameter", "linkLabel": "üèóÔ∏è Infraestrutura", "subTarget": "Infra", "style": "link", "icon": "Columns"}
              ]
            },
            "name": "tabs-futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | summarize total=count(), running=sum(iif(type == 'microsoft.compute/virtualmachines' and properties.extended.instanceView.powerState.displayStatus == 'VM running', 1, 0)), stopped=sum(iif(type == 'microsoft.compute/virtualmachines' and properties.extended.instanceView.powerState.displayStatus != 'VM running', 1, 0)), unhealthy=sum(iif(type == 'microsoft.web/sites' and properties.state != 'Running', 1, 0)) | project total, running, stopped, unhealthy",
                    "size": 1,
                    "title": "Status Global de Recursos",
                    "visualization": "tiles",
                    "tileSettings": {
                      "titleContent": {"columnMatch": "total", "formatter": 1},
                      "leftContent": {"columnMatch": "running", "formatter": 12, "formatOptions": {"palette": "auto"}},
                      "rightContent": {"columnMatch": "unhealthy", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [ {"operator": ">=", "thresholdValue": "10", "representation": "error", "text": "Ruim"}, {"operator": ">=", "thresholdValue": "3", "representation": "warning", "text": "Aten√ß√£o"}, {"operator": "Default", "representation": "success", "text": "Excelente"} ] } }
                    },
                    "gridSettings": {"formatters": [{"columnMatch": "unhealthy", "formatter": 0, "numberFormat": {"unit": 1, "options": {"style": "decimal"}}}]},
                    "legend": "<b>Legenda:</b> <span style='color:#ff4c4c'>Ruim</span> ‚â• 10 | <span style='color:#ffd700'>Aten√ß√£o</span> ‚â• 3 | <span style='color:#00ff99'>Excelente</span> < 3"
                  },
                  "name": "kpi-global-status"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize total=count(), openai=countif(kind =~ 'OpenAI'), cognitive=countif(kind != 'OpenAI'), search=countif(type =~ 'microsoft.search/searchservices'), ml=countif(type =~ 'microsoft.machinelearningservices/workspaces') | project total, openai, cognitive, search, ml",
                    "size": 1,
                    "title": "Recursos de IA & ML",
                    "visualization": "tiles",
                    "tileSettings": {
                      "titleContent": {"columnMatch": "total", "formatter": 1, "formatOptions": {"showIcon": true}},
                      "leftContent": {"columnMatch": "openai", "formatter": 12, "formatOptions": {"palette": "purpleBlue"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "rightContent": {"columnMatch": "ml", "formatter": 12, "formatOptions": {"palette": "greenBlue"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "secondaryContent": {"columnMatch": "cognitive", "formatter": 12, "formatOptions": {"palette": "purple"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "showBorder": true
                    },
                    "mapSettings": {"locInfo": "LatLong"}
                  },
                  "name": "ai-resources-overview"
                },                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda dos KPIs:</b><br>Os KPIs exibem o total de recursos, quantidade em execu√ß√£o, parados e n√£o saud√°veis. Os status seguem a sem√¢ntica oficial do Azure Monitor:<br><ul><li><span style='color:#00bfae;font-weight:bold;'>Executando</span>: Recurso operacional</li><li><span style='color:#ffd700;font-weight:bold;'>Parado</span>: Recurso desligado</li><li><span style='color:#ff4c4c;font-weight:bold;'>N√£o saud√°vel</span>: Recurso com falha ou indispon√≠vel</li></ul>Para mais detalhes, consulte a <a href='https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-monitor-data' target='_blank'>documenta√ß√£o oficial do Azure Monitor</a>.</div>"
                  },
                  "name": "legenda-kpi"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | extend SKU = tostring(sku.name), Kind = kind | join kind=leftouter ( resources | where type =~ 'microsoft.machinelearningservices/workspaces' | extend Kind = 'Machine Learning', SKU = tostring(sku.name) ) on Kind | summarize count() by SKU, Kind | order by Kind, SKU",
                    "size": 1,
                    "title": "Distribui√ß√£o de SKUs de IA por Servi√ßo",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "categoricalbar",
                    "chartSettings": {
                      "xAxis": "SKU",
                      "yAxis": ["count_"],
                      "group": "Kind",
                      "createOtherGroup": null
                    },
                    "gridSettings": {"filter": true}
                  },
                  "name": "ai-sku-distribution"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#f3f9ff;padding:10px;border-radius:8px;margin-top:10px;\"><b>üîç Sabia mais sobre IA na guia principal:</b><br>Acesse a guia <b>üß† IA & ML</b> para visualiza√ß√µes detalhadas sobre todos os servi√ßos de IA do Azure, incluindo OpenAI, Azure AI Search, ML Services, Vis√£o Computacional e mais. M√©tricas detalhadas de uso, performance e disponibilidade est√£o dispon√≠veis para cada servi√ßo.<br><span style=\"color:#1976d2;\">Clique na guia IA & ML para explorar m√©tricas detalhadas de todos os seus servi√ßos de intelig√™ncia artificial.</span></div>"
                  },
                  "name": "ai-tab-promo"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Overview"},
            "name": "Overview Futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üó∫Ô∏è Vis√£o Geral", "subTarget": "NetOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üåê Virtual Network", "subTarget": "VNet", "style": "link", "icon": "Network"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üõ°Ô∏è NSG", "subTarget": "NSG", "style": "link", "icon": "Shield"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üë• ASG", "subTarget": "ASG", "style": "link", "icon": "Group"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üîÄ Load Balancer", "subTarget": "LB", "style": "link", "icon": "Switch"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üåÄ Application Gateway", "subTarget": "AppGW", "style": "link", "icon": "Gateway"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üîí VPN Gateway", "subTarget": "VPNGW", "style": "link", "icon": "VpnGateway"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "‚ö° ExpressRoute", "subTarget": "ExpressRoute", "style": "link", "icon": "ExpressRoute"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üî• Firewall", "subTarget": "FW", "style": "link", "icon": "Firewall"},
                      {"cellValue": "SubTabNet", "linkTarget": "parameter", "linkLabel": "üö¶ Traffic Manager", "subTarget": "TrafficManager", "style": "link", "icon": "TrafficManager"}
                    ]
                  },
                  "name": "submenu-networking"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">Networking</h2><p style=\"color:#003366\">Vis√£o detalhada de recursos de rede. Selecione um submenu acima.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "NetOverview"},
                  "name": "net-overview"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Virtual Network</b> - KPIs, status, topologia, tr√°fego, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "VNet"},
                  "name": "net-vnet"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Load Balancer</b> - KPIs, status, conex√µes, health probes, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "LB"},
                  "name": "net-lb"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Application Gateway</b> - KPIs, listeners, regras, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "AppGW"},
                  "name": "net-appgw"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">VPN Gateway</b> - KPIs, conex√µes, status de t√∫neis, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "VPNGW"},
                  "name": "net-vpngw"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">ExpressRoute</b> - KPIs, circuitos, status, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "ExpressRoute"},
                  "name": "net-expressroute"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Firewall</b> - KPIs, regras, tr√°fego bloqueado, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "FW"},
                  "name": "net-fw"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">NSG</b> - KPIs, regras, bloqueios, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "NSG"},
                  "name": "net-nsg"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">ASG</b> - Application Security Groups, associa√ß√µes, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "ASG"},
                  "name": "net-asg"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Traffic Manager</b> - KPIs, endpoints, status, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabNet", "comparison": "isEqualTo", "value": "TrafficManager"},
                  "name": "net-trafficmanager"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>As cores e √≠cones representam o status dos recursos de rede conforme padr√£o do Azure Monitor:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Saud√°vel/operacional</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o/alerta</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico/erro</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Indispon√≠vel/desconhecido</li></ul>Para mais informa√ß√µes, consulte a <a href='https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-monitor-data' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Networking"},
                  "name": "legenda-networking"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Networking"},
            "name": "Networking Futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üß≠ Vis√£o Geral", "subTarget": "AppOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üñ•Ô∏è App Service", "subTarget": "AppService", "style": "link", "icon": "WebApp"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "‚ö° Functions", "subTarget": "Functions", "style": "link", "icon": "LightningBolt"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üîó Logic Apps", "subTarget": "LogicApps", "style": "link", "icon": "LogicApp"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üîå API Management", "subTarget": "APIManagement", "style": "link", "icon": "ApiManagement"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üì¶ Container Apps", "subTarget": "ContainerApps", "style": "link", "icon": "ContainerApps"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üåÄ App Gateway", "subTarget": "AppGateway", "style": "link", "icon": "Gateway"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "‚ò∏Ô∏è AKS", "subTarget": "AKS", "style": "link", "icon": "Kubernetes"},
                      {"cellValue": "SubTabApp", "linkTarget": "parameter", "linkLabel": "üî¥ ARO", "subTarget": "ARO", "style": "link", "icon": "OpenShift"}
                    ]
                  },
                  "name": "submenu-apps"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">Apps</h2><p style=\"color:#003366\">Vis√£o detalhada de aplica√ß√µes. Selecione um submenu acima.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "AppOverview"},
                  "name": "apps-overview"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">App Service</b> - KPIs, disponibilidade, slots, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "AppService"},
                  "name": "apps-appservice"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Functions</b> - Execu√ß√µes, falhas, cold start, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "Functions"},
                  "name": "apps-functions"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Logic Apps</b> - Execu√ß√µes, falhas, integra√ß√µes, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "LogicApps"},
                  "name": "apps-logicapps"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">API Management</b> - APIs, gateways, pol√≠ticas, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "APIManagement"},
                  "name": "apps-apimanagement"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Container Apps</b> - Containers, pods, escalabilidade, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "ContainerApps"},
                  "name": "apps-containerapps"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">App Gateway</b> - Listeners, regras, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "AppGateway"},
                  "name": "apps-appgateway"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">AKS</b> - Clusters, nodes, pods, escalabilidade, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "AKS"},
                  "name": "apps-aks"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">ARO</b> - OpenShift clusters, nodes, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabApp", "comparison": "isEqualTo", "value": "ARO"},
                  "name": "apps-aro"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>Os gr√°ficos e tabelas de aplica√ß√µes seguem a sem√¢ntica oficial do Azure Monitor:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Saud√°vel</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Indispon√≠vel</li></ul>M√©tricas como execu√ß√µes, falhas e disponibilidade s√£o calculadas conforme <a href='https://learn.microsoft.com/azure/azure-monitor/app/metrics' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Apps"},
                  "name": "legenda-apps"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Apps"},
            "name": "Apps Futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üß≠ Vis√£o Geral", "subTarget": "DataOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üóÑÔ∏è SQL Database", "subTarget": "SQLDB", "style": "link", "icon": "Database"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "ü™ê Cosmos DB", "subTarget": "CosmosDB", "style": "link", "icon": "CosmosDb"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üíæ Storage Account", "subTarget": "Storage", "style": "link", "icon": "StorageAccount"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üåä Data Lake", "subTarget": "DataLake", "style": "link", "icon": "DataLake"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üî∑ Synapse", "subTarget": "Synapse", "style": "link", "icon": "Synapse"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üì° Event Hubs", "subTarget": "EventHubs", "style": "link", "icon": "EventHub"},
                      {"cellValue": "SubTabData", "linkTarget": "parameter", "linkLabel": "üß† Redis", "subTarget": "Redis", "style": "link", "icon": "Redis"}
                    ]
                  },
                  "name": "submenu-data"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">Dados</h2><p style=\"color:#003366\">KPIs e status de bancos, storage, analytics, etc. Selecione um submenu acima.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "DataOverview"},
                  "name": "data-overview"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">SQL Database</b> - KPIs, DTU, conex√µes, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "SQLDB"},
                  "name": "data-sqldb"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Cosmos DB</b> - Throughput, RU/s, lat√™ncia, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "CosmosDB"},
                  "name": "data-cosmosdb"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Storage Account</b> - KPIs, blobs, filas, tabelas, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "Storage"},
                  "name": "data-storage"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Data Lake</b> - KPIs, ingest√£o, consultas, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "DataLake"},
                  "name": "data-datalake"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Synapse</b> - Pipelines, pools, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "Synapse"},
                  "name": "data-synapse"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Event Hubs</b> - Eventos, throughput, lat√™ncia, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "EventHubs"},
                  "name": "data-eventhubs"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Redis</b> - KPIs, cache hits, performance, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabData", "comparison": "isEqualTo", "value": "Redis"},
                  "name": "data-redis"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>As visualiza√ß√µes de dados apresentam m√©tricas oficiais do Azure Monitor e Resource Graph. Cores e status:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Operacional</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Indispon√≠vel</li></ul>Distribui√ß√µes e KPIs seguem <a href='https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-monitor-data' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Data"},
                  "name": "legenda-dados"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Data"},
            "name": "Data Futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üß≠ Vis√£o Geral", "subTarget": "SecOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üë§ Entra ID", "subTarget": "EntraID", "style": "link", "icon": "Person"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üîê Secure Score", "subTarget": "SecureScore", "style": "link", "icon": "Shield"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üí° Recomenda√ß√µes", "subTarget": "Recommendations", "style": "link", "icon": "Recommendation"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üö® Alertas", "subTarget": "Alerts", "style": "link", "icon": "Alert"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üìú Pol√≠ticas", "subTarget": "Policies", "style": "link", "icon": "Policy"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üìã Azure Policy", "subTarget": "AzurePolicy", "style": "link", "icon": "Policy"},
                      {"cellValue": "SubTabSec", "linkTarget": "parameter", "linkLabel": "üõ°Ô∏è Defender", "subTarget": "Defender", "style": "link", "icon": "Defender"}
                    ]
                  },
                  "name": "submenu-security"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">Seguran√ßa</h2><p style=\"color:#003366\">KPIs, alertas, recomenda√ß√µes, Secure Score, etc. Selecione um submenu acima.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "SecOverview"},
                  "name": "security-overview"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Secure Score</b> - Pontua√ß√£o, tend√™ncias, comparativos, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "SecureScore"},
                  "name": "security-securescore"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Recomenda√ß√µes</b> - A√ß√µes sugeridas, impacto, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "Recommendations"},
                  "name": "security-recommendations"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Alertas</b> - Incidentes, severidade, status, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "Alerts"},
                  "name": "security-alerts"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Pol√≠ticas</b> - Compliance, regras, auditoria, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "Policies"},
                  "name": "security-policies"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Defender</b> - Prote√ß√£o, status, amea√ßas, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "Defender"},
                  "name": "security-defender"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Identidade</b> - Usu√°rios, grupos, MFA, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "Identity"},
                  "name": "security-identity"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Entra ID</b> - Usu√°rios, grupos, MFA, auditoria, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "EntraID"},
                  "name": "security-entraid"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Azure Policy</b> - Compliance, regras, auditoria, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabSec", "comparison": "isEqualTo", "value": "AzurePolicy"},
                  "name": "security-azurepolicy"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>Os indicadores de seguran√ßa seguem a sem√¢ntica do Azure Security Center e Azure Monitor:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Saud√°vel/compliance</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o/a√ß√£o recomendada</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico/n√£o compliance</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Indispon√≠vel</li></ul>Para detalhes sobre Secure Score, recomenda√ß√µes e alertas, consulte a <a href='https://learn.microsoft.com/azure/defender-for-cloud/secure-score-security-controls' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Security"},
                  "name": "legenda-seguranca"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Security"},
            "name": "Security Futurist"
          },          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üß≠ Vis√£o Geral", "subTarget": "AIOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üí≠ Azure OpenAI", "subTarget": "OpenAI", "style": "link", "icon": "AIServices"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üîç AI Search", "subTarget": "AISearch", "style": "link", "icon": "Search"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "‚öôÔ∏è ML Services", "subTarget": "MLServices", "style": "link", "icon": "MachineLearning"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üîä Servi√ßos de Voz", "subTarget": "Speech", "style": "link", "icon": "SpeechService"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üñºÔ∏è Servi√ßos de Vis√£o", "subTarget": "Vision", "style": "link", "icon": "ComputerVision"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üìä Azure Foundry", "subTarget": "Foundry", "style": "link", "icon": "DataFactory"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "ü§ñ Servi√ßos Cognitivos", "subTarget": "CognitiveServices", "style": "link", "icon": "CognitiveServices"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üìà AI Studio", "subTarget": "AIStudio", "style": "link", "icon": "AIStudio"},
                      {"cellValue": "SubTabAI", "linkTarget": "parameter", "linkLabel": "üí∞ Custo & Consumo", "subTarget": "AICost", "style": "link", "icon": "CostAnalysis"}
                    ]
                  },
                  "name": "submenu-ai"
                },                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">IA & Machine Learning</h2><p style=\"color:#003366\">Vis√£o centralizada dos servi√ßos de IA do Azure, incluindo m√©tricas de uso, performance, disponibilidade e custo.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIOverview"},
                  "name": "ai-overview"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize Total=count(), OpenAI=countif(kind =~ 'OpenAI'), CognitiveServices=countif(kind != 'OpenAI'), FreeOrTrial=countif(sku.name =~ 'F' or properties.customSubDomainName endswith 'trial') | project Total, OpenAI, CognitiveServices, FreeOrTrial",
                    "size": 0,
                    "title": "Servi√ßos de IA",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "tiles",
                    "tileSettings": {
                      "titleContent": {"columnMatch": "Total", "formatter": 1, "formatOptions": {"showIcon": true}},
                      "leftContent": {"columnMatch": "OpenAI", "formatter": 12, "formatOptions": {"palette": "blue"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "rightContent": {"columnMatch": "FreeOrTrial", "formatter": 12, "formatOptions": {"palette": "orange"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "secondaryContent": {"columnMatch": "CognitiveServices", "formatter": 12, "formatOptions": {"palette": "purple"}, "numberFormat": {"unit": 17, "options": {"style": "decimal", "useGrouping": true}}},
                      "showBorder": true
                    },
                    "gridSettings": {"sortBy": [{"itemKey": "$gen_heatmap_Total_0", "sortOrder": 2}]},
                    "mapSettings": {"locInfo": "LatLong"}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIOverview"},
                  "name": "ai-services-kpi"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize count() by kind, location | order by kind asc",
                    "size": 1,
                    "title": "Servi√ßos de IA por Tipo e Regi√£o",
                    "visualization": "table",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "count_", "formatter": 8, "formatOptions": {"palette": "blue"}},
                        {"columnMatch": "kind", "formatter": 5}
                      ]
                    },
                    "tileSettings": {"showBorder": false},
                    "textSettings": {"style": "bignumber"},
                    "chartSettings": {"createOtherGroup": null, "showLegend": true}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIOverview"},
                  "name": "ai-resources-overview"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | where properties.apiProperties.openaiApiType =~ 'OpenAI' | summarize count() by name, sku.name, location, tostring(tags) | project ['Modelo']=name, ['SKU']=sku_name, ['Regi√£o']=location, ['Tags']=tags",
                    "size": 1,
                    "title": "Implementa√ß√µes do Azure OpenAI",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "SKU", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "S0", "representation": "success", "text": "Standard"}, {"operator": "==", "thresholdValue": "S1", "representation": "success", "text": "Standard"}, {"operator": "==", "thresholdValue": "S2", "representation": "success", "text": "Standard"}, {"operator": "==", "thresholdValue": "S3", "representation": "success", "text": "Standard"}, {"operator": "==", "thresholdValue": "S4", "representation": "success", "text": "Standard"}, {"operator": "Default", "representation": "info", "text": "{0}"} ] } }
                      ],
                      "filter": true,
                      "sortBy": [
                        {"itemKey": "Modelo", "sortOrder": 2}
                      ]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-deployments"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "union withsource=MetricSource \r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" or Category == \"Audit\" \r\n| where TimeGenerated {timerange}\r\n| project TimeGenerated, OperationName, ResultType, StatusCode, RequestUri, ResourceId\r\n| summarize RequestCount=count() by bin(TimeGenerated, 1h), OperationName, ResultType",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Requisi√ß√µes OpenAI por Hora",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "areachart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["RequestCount"],
                      "seriesLabelSettings": [{"seriesName": "Completions", "color": "#0078D4"}, {"seriesName": "Embeddings", "color": "#00BCF2"}, {"seriesName": "ChatCompletions", "color": "#2BC400"}]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-requests-per-hour"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" or Category == \"Audit\" \r\n| where TimeGenerated {timerange}\r\n| where ResultType != \"Succeeded\" or StatusCode !between (200 .. 299)\r\n| summarize count() by ResultType, StatusCode, bin(TimeGenerated, 1h)\r\n| render timechart",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Erros em Requisi√ß√µes OpenAI",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "linechart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["count_"],
                      "seriesLabelSettings": [{"seriesName": "429", "label": "429 - Throttling", "color": "#FDD663"}, {"seriesName": "500", "label": "500 - Internal Error", "color": "#FF5F5F"}, {"seriesName": "400", "label": "400 - Bad Request", "color": "#FF8C00"}]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-request-errors"
                },                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" or Category == \"Audit\" \r\n| where TimeGenerated {timerange}\r\n| summarize Requests=count(), SuccessRate=round(100.0 * countif(ResultType == \"Succeeded\") / count(), 2) by Model=RequestUri\r\n| order by Requests desc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Taxa de Sucesso por Modelo",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "Requests", "formatter": 8, "formatOptions": {"palette": "blue"}},
                        {"columnMatch": "SuccessRate", "formatter": 8, "formatOptions": {"palette": "greenRed"}, "numberFormat": {"unit": 1, "options": {"style": "decimal", "useGrouping": true, "minimumFractionDigits": 2, "maximumFractionDigits": 2}}}
                      ],
                      "filter": true
                    },
                    "sortBy": [],
                    "tileSettings": {"showBorder": false}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-success-rate"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| where ResultType == \"Succeeded\"\r\n| extend ResponseTime = ResponseTimeMs\r\n| summarize MedianResponseTime=percentile(ResponseTime, 50), P90ResponseTime=percentile(ResponseTime, 90), P99ResponseTime=percentile(ResponseTime, 99) by bin(TimeGenerated, 15m)",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Tempo de Resposta do OpenAI (ms)",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "linechart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["MedianResponseTime", "P90ResponseTime", "P99ResponseTime"],
                      "seriesLabelSettings": [
                        {"seriesName": "MedianResponseTime", "label": "Mediana", "color": "#00BCF2"}, 
                        {"seriesName": "P90ResponseTime", "label": "Percentil 90", "color": "#FDD663"}, 
                        {"seriesName": "P99ResponseTime", "label": "Percentil 99", "color": "#FF5F5F"}
                      ]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-response-time"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| extend ModelName = extract(@\"/deployments/([^/]+)\", 1, RequestUri)\r\n| summarize RequestCount=count(), AverageTokens=avg(CompletionTokens + PromptTokens) by ModelName, bin(TimeGenerated, 1h)\r\n| order by TimeGenerated asc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Uso de Tokens por Modelo",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "areachart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["AverageTokens"],
                      "seriesLabelSettings": [
                        {"seriesName": "gpt-4", "color": "#5F9BFC"}, 
                        {"seriesName": "gpt-4o", "color": "#33FF99"}, 
                        {"seriesName": "gpt-35-turbo", "color": "#FFC666"}, 
                        {"seriesName": "gpt-4o-mini", "color": "#79EB79"}
                      ]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-token-usage"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook046080c4-1dea-4059-83c0-5527a9a4cfa0",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--SuccessfulCalls", "aggregation": 1, "splitBy": null},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--TotalErrors", "aggregation": 1, "splitBy": null}
                    ],
                    "title": "Chamadas bem-sucedidas vs. Erros",
                    "gridSettings": {"rowLimit": 10000},
                    "showOpenInMeExperience": true,
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "OpenAI"},
                  "name": "openai-calls-vs-errors"
                },                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Azure AI Search</b> - M√©tricas sobre √≠ndices, documentos, consultas e lat√™ncia."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AISearch"},
                  "name": "ai-search"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbooka2daf5d8-1a2c-4d9a-8542-b0c77940a9cc",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.search/searchservices",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.search/searchservices/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--SearchQueriesPerSecond", "aggregation": 4},
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--QueryLatency", "aggregation": 4},
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--ThrottledSearchQueriesPercentage", "aggregation": 4}
                    ],
                    "title": "Consultas e Lat√™ncia (AI Search)",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AISearch"},
                  "name": "ai-search-queries-metrics"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook53e4f8d1-f685-4c0a-8769-35a99197523a",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.search/searchservices",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.search/searchservices/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--SearchLatency", "aggregation": 4},
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--IndexLatency", "aggregation": 4}
                    ],
                    "title": "Lat√™ncia (AI Search)",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AISearch"},
                  "name": "ai-search-latency-metrics"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbooka2c41dc2-3fdb-41bc-8385-a88a6b8d4805",
                    "version": "MetricsItem/2.0",
                    "size": 1,
                    "chartType": 3,
                    "resourceType": "microsoft.search/searchservices",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.search/searchservices/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.search/searchservices", "metric": "microsoft.search/searchservices--DocumentCount", "aggregation": 1, "splitBy": null}
                    ],
                    "title": "Contagem de Documentos (AI Search)",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AISearch"},
                  "name": "ai-search-document-count"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.search/searchservices' | project name, sku=sku.name, location, status=properties.status | order by name asc",
                    "size": 0,
                    "title": "Azure AI Search Services",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "sku", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "contains", "thresholdValue": "free", "representation": "info", "text": "Free"}, {"operator": "contains", "thresholdValue": "basic", "representation": "info", "text": "Basic"}, {"operator": "contains", "thresholdValue": "standard", "representation": "success", "text": "Standard"}, {"operator": "contains", "thresholdValue": "storage_optimized", "representation": "success", "text": "Storage Optimized"}, {"operator": "Default", "representation": "info", "text": "{0}"} ] } },
                        {"columnMatch": "status", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "running", "representation": "success", "text": "Running"}, {"operator": "Default", "representation": "warning", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AISearch"},
                  "name": "ai-search-services"
                },                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">ML Services</b> - Workspaces, modelos, pipelines, m√©tricas de execu√ß√£o, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ai-ml-services"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook9bd1fe37-8734-4d07-a61e-7edb8d4f833c",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.machinelearningservices/workspaces",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.machinelearningservices/workspaces/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--ModelRegisterSucceeded", "aggregation": 1},
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--ModelRegisterFailed", "aggregation": 1}
                    ],
                    "title": "Registro de Modelos",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ml-model-registration"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook9c855ae2-8104-4aed-9a2c-5d08f7add3bf",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.machinelearningservices/workspaces",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.machinelearningservices/workspaces/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--RunSucceeded", "aggregation": 1},
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--RunFailed", "aggregation": 1},
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--RunCanceled", "aggregation": 1}
                    ],
                    "title": "Status de Execu√ß√£o",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ml-run-status"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook2f3764fa-166e-4d1f-83b9-8146a4f0f85b",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.machinelearningservices/workspaces",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.machinelearningservices/workspaces/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--DeploymentSucceeded", "aggregation": 1},
                      {"namespace": "microsoft.machinelearningservices/workspaces", "metric": "microsoft.machinelearningservices/workspaces--DeploymentFailed", "aggregation": 1}
                    ],
                    "title": "Status de Deployment",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ml-deployment-status"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machinelearningservices/workspaces/models' | project name, version=properties.version, framework=properties.framework, lastUpdateTime=properties.lastUpdateTime | order by name, version desc | summarize Versions=count() by name, framework | order by Versions desc",
                    "size": 0,
                    "title": "Modelos por Framework",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "Versions", "formatter": 8, "formatOptions": {"palette": "blue"}},
                        {"columnMatch": "framework", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "contains", "thresholdValue": "pytorch", "representation": "1", "text": "PyTorch"}, {"operator": "contains", "thresholdValue": "tensorflow", "representation": "2", "text": "TensorFlow"}, {"operator": "contains", "thresholdValue": "sklearn", "representation": "3", "text": "Scikit-learn"}, {"operator": "contains", "thresholdValue": "onnx", "representation": "4", "text": "ONNX"}, {"operator": "Default", "representation": "Blank", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ml-models-by-framework"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machinelearningservices/workspaces' | project name, location, sku=sku.name, state=properties.workspaceState | order by name asc",
                    "size": 0,
                    "title": "Azure ML Workspaces",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "sku", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "contains", "thresholdValue": "free", "representation": "info", "text": "Free"}, {"operator": "contains", "thresholdValue": "basic", "representation": "info", "text": "Basic"}, {"operator": "contains", "thresholdValue": "standard", "representation": "success", "text": "Standard"}, {"operator": "contains", "thresholdValue": "enterprise", "representation": "success", "text": "Enterprise"}, {"operator": "Default", "representation": "info", "text": "{0}"} ] } },
                        {"columnMatch": "state", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "Running", "representation": "success", "text": "Running"}, {"operator": "Default", "representation": "warning", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "MLServices"},
                  "name": "ml-workspaces"
                },                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Servi√ßos de Voz</b> - Transcri√ß√£o, speech-to-text, text-to-speech, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Speech"},
                  "name": "ai-speech-services"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' and kind == 'SpeechServices' | project name, location, sku=sku.name, properties | order by name asc",
                    "size": 0,
                    "title": "Servi√ßos de Voz",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {"filter": true}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Speech"},
                  "name": "speech-services-list"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook96c8dfad-c2de-4159-a1a2-0d8aaa8aef80",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--SpeechSuccessfulCalls", "aggregation": 1},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--SpeechErrors", "aggregation": 1}
                    ],
                    "title": "Chamadas de Voz - Sucesso vs. Erros",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Speech"},
                  "name": "speech-calls-success-errors"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook80807db9-399d-4315-b0bd-4114b3fd60ba",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--SpeechLatency", "aggregation": 4}
                    ],
                    "title": "Lat√™ncia dos Servi√ßos de Voz",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Speech"},
                  "name": "speech-latency"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| where OperationName contains \"speech\"\r\n| summarize count() by OperationName, bin(TimeGenerated, 1h)",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Opera√ß√µes Speech por Hora",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "areachart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["count_"],
                      "seriesLabelSettings": [
                        {"seriesName": "SpeechToText", "color": "#00BCF2"}, 
                        {"seriesName": "TextToSpeech", "color": "#FDD663"}, 
                        {"seriesName": "SpeechTranslation", "color": "#FF5F5F"}
                      ]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Speech"},
                  "name": "speech-operations-per-hour"
                },                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Servi√ßos de Vis√£o</b> - Computer Vision, an√°lise de imagens, OCR, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Vision"},
                  "name": "ai-vision-services"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' and (kind =~ 'ComputerVision' or kind =~ 'CustomVision.Training' or kind =~ 'CustomVision.Prediction' or kind =~ 'Face') | project name, kind, location, sku=sku.name | order by kind asc",
                    "size": 0,
                    "title": "Servi√ßos de Vis√£o Computacional",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "kind", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "ComputerVision", "representation": "Camera", "text": "Computer Vision"}, {"operator": "==", "thresholdValue": "CustomVision.Training", "representation": "Camera", "text": "Custom Vision (Training)"}, {"operator": "==", "thresholdValue": "CustomVision.Prediction", "representation": "Camera", "text": "Custom Vision (Prediction)"}, {"operator": "==", "thresholdValue": "Face", "representation": "Glasses", "text": "Face"}, {"operator": "Default", "representation": "Resource", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Vision"},
                  "name": "vision-services-list"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook4e6ea0d4-9e89-4d3b-af61-ef068e86d9b4",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--VisionSuccessfulCalls", "aggregation": 1},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--VisionErrors", "aggregation": 1}
                    ],
                    "title": "Chamadas Vision - Sucesso vs. Erros",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Vision"},
                  "name": "vision-calls-success-errors"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbookc3e73a3b-77fc-4d7f-a186-6bc9c5e45975",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--VisionLatency", "aggregation": 4}
                    ],
                    "title": "Lat√™ncia dos Servi√ßos Vision",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Vision"},
                  "name": "vision-latency"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| where OperationName contains \"vision\" or OperationName contains \"Vision\"\r\n| summarize count() by OperationName, bin(TimeGenerated, 1h)",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Opera√ß√µes de Vis√£o por Hora",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "areachart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["count_"]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Vision"},
                  "name": "vision-operations-per-hour"
                },                {
                  "type": 1,
                  "content": {"json": "<h2 style=\"color:#003366\">Azure Foundry</h2><p style=\"color:#003366\">Monitoramento de registros de modelos, endpoints, deployments e m√©tricas de performance do Azure Foundry, a plataforma de MLOps e gerenciamento de modelos de IA.</p>"},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "ai-foundry"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machineLearningServices/registries' | project name, location, properties, tags | order by name asc",
                    "size": 0,
                    "title": "Azure Foundry - Model Registries",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {"filter": true}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-registries"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machineLearningServices/registries/models' | project name, version=properties.version, properties | order by name asc",
                    "size": 0,
                    "title": "Modelos em Registries",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {"filter": true}
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-models"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machineLearningServices/workspaces/onlineEndpoints' or type =~ 'microsoft.machineLearningServices/registries/onlineEndpoints' | project name, resourceGroup, sku=properties.sku, provisioningState=properties.provisioningState | order by name asc",
                    "size": 0,
                    "title": "Endpoints Online",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "provisioningState", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "Succeeded", "representation": "success", "text": "{0}"}, {"operator": "==", "thresholdValue": "Creating", "representation": "pending", "text": "{0}"}, {"operator": "==", "thresholdValue": "Failed", "representation": "failed", "text": "{0}"}, {"operator": "Default", "representation": "Unknown", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-endpoints"
                },                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.machineLearningServices/workspaces/onlineEndpoints/deployments' or type =~ 'microsoft.machineLearningServices/registries/onlineEndpoints/deployments' | project name, model=properties.model.name, version=properties.model.version, state=properties.state | order by name asc",
                    "size": 0,
                    "title": "Deployments de Modelos",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "state", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "Succeeded", "representation": "success", "text": "{0}"}, {"operator": "contains", "thresholdValue": "running", "representation": "success", "text": "{0}"}, {"operator": "==", "thresholdValue": "Failed", "representation": "failed", "text": "{0}"}, {"operator": "Default", "representation": "pending", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-deployments"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let FoundryEndpoints = resources | where type =~ 'microsoft.machineLearningServices/workspaces/onlineEndpoints' or type =~ 'microsoft.machineLearningServices/registries/onlineEndpoints';\r\nlet AzureMonitorMetrics = FoundryEndpoints\r\n| join kind=inner (\r\n    AzureMetrics\r\n    | where TimeGenerated {timerange}\r\n    | where MetricName in ('RequestLatency', 'RequestsPerMinute', 'CpuUtilizationPercentage', 'MemoryUtilizationPercentage')\r\n    | summarize LatestValue = max(Average) by ResourceId, MetricName\r\n) on ResourceId\r\n| project ResourceName=name, MetricName, LatestValue;\r\n\r\nAzureMonitorMetrics\r\n| summarize ['Lat√™ncia (ms)']=sumif(LatestValue, MetricName=='RequestLatency'), \r\n           ['Req/Min']=sumif(LatestValue, MetricName=='RequestsPerMinute'), \r\n           ['CPU (%)']=sumif(LatestValue, MetricName=='CpuUtilizationPercentage'),\r\n           ['Mem√≥ria (%)']=sumif(LatestValue, MetricName=='MemoryUtilizationPercentage')\r\n           by ResourceName\r\n| order by ['Req/Min'] desc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Performance dos Endpoints de Modelos",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "Lat√™ncia (ms)", "formatter": 8, "formatOptions": {"min": 0, "max": 1000, "palette": "greenRed"}},
                        {"columnMatch": "Req/Min", "formatter": 8, "formatOptions": {"min": 0, "palette": "blue"}},
                        {"columnMatch": "CPU (%)", "formatter": 8, "formatOptions": {"min": 0, "max": 100, "palette": "yellowGreenBlue"}},
                        {"columnMatch": "Mem√≥ria (%)", "formatter": 8, "formatOptions": {"min": 0, "max": 100, "palette": "purpleBlue"}}
                      ],
                      "filter": true,
                      "labelSettings": [{"columnId": "ResourceName", "label": "Endpoint"}, {"columnId": "Lat√™ncia (ms)"}, {"columnId": "Req/Min"}, {"columnId": "CPU (%)"}, {"columnId": "Mem√≥ria (%)"}]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-endpoint-performance"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.MACHINELEARNINGSERVICES\" \r\n| where Category == \"AmlOnlineEndpointConsoleLog\" \r\n| where TimeGenerated {timerange}\r\n| summarize ErrorCount=countif(Level == \"Error\"), WarningCount=countif(Level == \"Warning\"), InfoCount=countif(Level == \"Information\") by bin(TimeGenerated, 1h), OperationName\r\n| order by TimeGenerated asc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Logs de Endpoint por Hora",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "unstackedbar",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["ErrorCount", "WarningCount", "InfoCount"],
                      "seriesLabelSettings": [
                        {"seriesName": "ErrorCount", "label": "Erros", "color": "#FF5F5F"},
                        {"seriesName": "WarningCount", "label": "Avisos", "color": "#FDD663"},
                        {"seriesName": "InfoCount", "label": "Informa√ß√µes", "color": "#00BCF2"}
                      ],
                      "group": "OperationName"
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "Foundry"},
                  "name": "foundry-endpoint-logs"
                },
                {
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">Servi√ßos Cognitivos</b> - KPIs, tipos de servi√ßos, uso, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "CognitiveServices"},
                  "name": "ai-cognitive-services"
                },                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' and kind != 'openai' | project name, kind, location, sku=sku.name | order by kind asc",
                    "size": 0,
                    "title": "Servi√ßos Cognitivos",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "kind", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "contains", "thresholdValue": "Face", "representation": "Glasses", "text": "{0}"}, {"operator": "contains", "thresholdValue": "Speech", "representation": "Speaker", "text": "{0}"}, {"operator": "contains", "thresholdValue": "Vision", "representation": "Camera", "text": "{0}"}, {"operator": "contains", "thresholdValue": "Language", "representation": "Globe", "text": "{0}"}, {"operator": "Default", "representation": "Resource", "text": "{0}"} ] } },
                        {"columnMatch": "sku", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "contains", "thresholdValue": "F", "representation": "info", "text": "Free"}, {"operator": "contains", "thresholdValue": "S", "representation": "success", "text": "Standard"}, {"operator": "Default", "representation": "info", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "CognitiveServices"},
                  "name": "cognitive-services-list"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize count() by kind | order by count_ desc",
                    "size": 0,
                    "title": "Distribui√ß√£o por Tipos de Servi√ßo",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "piechart"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "CognitiveServices"},
                  "name": "cognitive-services-distribution"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook1210c596-9319-4d78-b096-d10f5c01bc0a",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--SuccessfulCalls", "aggregation": 7, "splitBy": null},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--TotalErrors", "aggregation": 7, "splitBy": null},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--TotalCalls", "aggregation": 7, "splitBy": null}
                    ],
                    "title": "Chamadas Totais vs. Erros",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "CognitiveServices"},
                  "name": "cognitive-services-total-calls"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbookd601a8f4-df4a-4d71-b8c6-c2fc90e9cddb",
                    "version": "MetricsItem/2.0",
                    "size": 0,
                    "chartType": 2,
                    "resourceType": "microsoft.cognitiveservices/accounts",
                    "metricScope": 0,
                    "resourceIds": ["{Subscription}/resourceGroups/{ResourceGroup}/providers/microsoft.cognitiveservices/accounts/*"],
                    "timeContextFromParameter": "timerange",
                    "timeContext": {"durationMs": 86400000},
                    "metrics": [
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--DataIn", "aggregation": 1, "splitBy": null},
                      {"namespace": "microsoft.cognitiveservices/accounts", "metric": "microsoft.cognitiveservices/accounts--DataOut", "aggregation": 1, "splitBy": null}
                    ],
                    "title": "Transfer√™ncia de Dados",
                    "gridSettings": {"rowLimit": 10000},
                    "filters": [{"id": "1", "key": "Microsoft.ResourceGroup", "operator": 0, "values": ["{ResourceGroup}"]}]
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "CognitiveServices"},
                  "name": "cognitive-services-data-transfer"
                },{
                  "type": 1,
                  "content": {"json": "<b style=\"color:#003366\">AI Studio</b> - Projetos, avalia√ß√µes, prompts, m√©tricas, etc."},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIStudio"},
                  "name": "ai-studio"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' and kind =~ 'openai' | project name, location, sku=sku.name, state=properties.provisioningState | order by name asc",
                    "size": 0,
                    "title": "Recursos OpenAI para AI Studio",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "state", "formatter": 18, "formatOptions": {"thresholdsOptions": "icons", "thresholdsGrid": [{"operator": "==", "thresholdValue": "Succeeded", "representation": "success", "text": "Provisionado"}, {"operator": "==", "thresholdValue": "Creating", "representation": "pending", "text": "Criando"}, {"operator": "==", "thresholdValue": "Failed", "representation": "failed", "text": "Falhou"}, {"operator": "Default", "representation": "pending", "text": "{0}"} ] } }
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIStudio"},
                  "name": "ai-studio-resources"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| extend APIVersion = extract(@\"api-version=([^&]+)\", 1, RequestUri)\r\n| where APIVersion contains \"2023\" or APIVersion contains \"2024\"\r\n| summarize count() by ApiVersion=APIVersion",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Chamadas por Vers√£o da API",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "piechart"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIStudio"},
                  "name": "ai-studio-api-versions"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"Audit\" \r\n| where TimeGenerated {timerange}\r\n| extend CallerIPAddress = extract(@\"Caller IP address: '([^']+)'.\", 1, Message)\r\n| where isnotempty(CallerIPAddress)\r\n| summarize count() by CallerIPAddress, bin(TimeGenerated, 1h)\r\n| order by TimeGenerated asc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Chamadas por IP de origem",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "areachart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["count_"]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIStudio"},
                  "name": "ai-studio-calls-by-ip"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#f3f9ff;padding:15px;border-radius:8px;margin-top:10px;\"><b>Sobre o Azure AI Studio:</b><br>O Azure AI Studio permite criar, avaliar e implementar solu√ß√µes de IA generativa de forma simplificada. As m√©tricas acima refletem o uso das APIs por diferentes vers√µes e IPs, sem identificar projetos espec√≠ficos. Para uma vis√£o mais detalhada:<br><ul><li>Acesse o <a href='https://ai.azure.com' target='_blank'>Azure AI Studio</a> diretamente</li><li>Verifique projetos e avalia√ß√µes espec√≠ficas atrav√©s da interface do AI Studio</li><li>Configure m√©tricas personalizadas para monitoramento atrav√©s do Azure Application Insights</li></ul></div>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AIStudio"},
                  "name": "ai-studio-info"
                },                {
                  "type": 1,
                  "content": {"json": "<h2 style=\"color:#003366\">Custo & Consumo de IA</h2><p style=\"color:#003366\">An√°lise detalhada de custos, consumo e tend√™ncias de uso dos servi√ßos de IA do Azure.</p>"},
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AICost"},
                  "name": "ai-cost-overview"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | extend SKU = tostring(sku.name), Kind = kind | join kind=leftouter ( resources | where type =~ 'microsoft.machinelearningservices/workspaces' | extend Kind = 'Machine Learning', SKU = tostring(sku.name) ) on Kind | project type, kind, location, sku_name, name | summarize count() by Categoria=type, Tipo=kind, SKU=sku_name | order by Categoria asc",
                    "size": 0,
                    "title": "Distribui√ß√£o de SKUs por Servi√ßo",
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "count_", "formatter": 8, "formatOptions": {"palette": "blue"}}
                      ],
                      "filter": true
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AICost"},
                  "name": "ai-cost-sku-distribution"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| extend ModelName = extract(@\"/deployments/([^/]+)\", 1, RequestUri)\r\n| where isnotempty(ModelName) and ModelName != \"\"\r\n| summarize TotalTokens = sum(CompletionTokens + PromptTokens), TotalCalls=count() by ModelName\r\n| extend EstimatedCost = case(\r\n  ModelName contains \"gpt-4\", TotalTokens * 0.00006,\r\n  ModelName contains \"gpt-35\", TotalTokens * 0.000002,\r\n  ModelName contains \"embedding\", TotalTokens * 0.0000001,\r\n  TotalTokens * 0.00001\r\n)\r\n| project-rename ['Modelo'] = ModelName, ['Total de Tokens'] = TotalTokens, ['Total de Chamadas'] = TotalCalls, ['Custo Estimado ($)'] = EstimatedCost\r\n| order by ['Custo Estimado ($)'] desc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Consumo Estimado de Tokens por Modelo",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {"columnMatch": "Total de Tokens", "formatter": 3, "formatOptions": {"palette": "blue"}},
                        {"columnMatch": "Total de Chamadas", "formatter": 3, "formatOptions": {"palette": "green"}},
                        {"columnMatch": "Custo Estimado ($)", "formatter": 3, "formatOptions": {"palette": "orange"}, "numberFormat": {"unit": 0, "options": {"style": "currency", "currency": "USD", "minimumFractionDigits": 4, "maximumFractionDigits": 4}}}
                      ],
                      "filter": true,
                      "labelSettings": [{"columnId": "Modelo"}, {"columnId": "Total de Tokens"}, {"columnId": "Total de Chamadas"}, {"columnId": "Custo Estimado ($)"}]
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AICost"},
                  "name": "ai-cost-token-usage"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "AzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.COGNITIVESERVICES\" \r\n| where Category == \"RequestResponse\" \r\n| where TimeGenerated {timerange}\r\n| extend ModelName = extract(@\"/deployments/([^/]+)\", 1, RequestUri)\r\n| where isnotempty(ModelName) and ModelName != \"\"\r\n| summarize TotalTokens = sum(CompletionTokens + PromptTokens) by ModelName, bin(TimeGenerated, 1d)\r\n| order by TimeGenerated asc",
                    "size": 0,
                    "timeContextFromParameter": "timerange",
                    "title": "Tend√™ncia de Consumo de Tokens",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "visualization": "linechart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": ["TotalTokens"],
                      "group": "ModelName",
                      "createOtherGroup": 5,
                      "showMetrics": false
                    }
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AICost"},
                  "name": "ai-cost-token-trend"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#f3f9ff;padding:15px;border-radius:8px;margin-top:10px;\"><b>üìä Sobre Estimativas de Custo:</b><br>Os c√°lculos de custo neste painel s√£o estimativas baseadas nos pre√ßos aproximados dos modelos e uso medido. Para valores precisos e detalhados de faturamento:<br><ul><li>Consulte o <a href='https://portal.azure.com/#blade/Microsoft_Azure_CostManagement/Menu/costanalysis' target='_blank'>Azure Cost Management</a></li><li>Use filtros por recurso (por exemplo, 'Tipo de recurso: cognitiveservices')</li><li>Os custos reais podem variar com base em promo√ß√µes, acordos empresariais e pre√ßos regionais</li></ul>As estimativas de custo de token s√£o baseadas em pre√ßos padr√£o e n√£o incluem descontos ou camadas gratuitas.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabAI", "comparison": "isEqualTo", "value": "AICost"},
                  "name": "ai-cost-disclaimer"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>As visualiza√ß√µes de IA e ML seguem os padr√µes do Azure Monitor para servi√ßos cognitivos e IA:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Opera√ß√£o normal</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o/Throttling</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico/Falha</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Sem dados</li></ul>M√©tricas para servi√ßos de IA incluem chamadas por minuto, lat√™ncia, tokens, custo estimado e erros. Para informa√ß√µes detalhadas sobre cada m√©trica consulte a <a href='https://learn.microsoft.com/azure/ai-services/openai/how-to/monitoring' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "AI"},
                  "name": "legenda-ai"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "AI"},
            "name": "AI Futurist"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "toolbar",
                    "links": [
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üß≠ Vis√£o Geral", "subTarget": "InfraOverview", "style": "link", "icon": "Dashboard"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üíª Virtual Machines", "subTarget": "VMs", "style": "link", "icon": "VirtualMachine"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üìà Scale Sets", "subTarget": "ScaleSets", "style": "link", "icon": "ScaleSet"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üóÉÔ∏è Availability Sets", "subTarget": "AvailSets", "style": "link", "icon": "AvailabilitySet"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üíΩ Disks", "subTarget": "Disks", "style": "link", "icon": "Disk"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üì∏ Snapshots", "subTarget": "Snapshots", "style": "link", "icon": "Snapshot"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üñºÔ∏è Images", "subTarget": "Images", "style": "link", "icon": "Image"},
                      {"cellValue": "SubTabInfra", "linkTarget": "parameter", "linkLabel": "üì¶ Resource Groups", "subTarget": "ResourceGroups", "style": "link", "icon": "ResourceGroup"}
                    ]
                  },
                  "name": "submenu-infra"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<h2 style=\"color:#003366\">Infraestrutura</h2><p style=\"color:#003366\">Vis√£o geral de infraestrutura, KPIs, disponibilidade, escalabilidade, custos e tend√™ncias.</p>"
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "InfraOverview"},
                  "name": "infra-overview"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/virtualmachines' | summarize count() by tostring(properties.hardwareProfile.vmSize)",
                    "size": 1,
                    "title": "VMs por Tamanho",
                    "visualization": "barchart",
                    "legend": "Distribui√ß√£o das VMs por SKU/tamanho."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "VMs"},
                  "name": "infra-vms"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/virtualmachinescalesets' | summarize count() by location",
                    "size": 1,
                    "title": "Scale Sets por Regi√£o",
                    "visualization": "piechart",
                    "legend": "Distribui√ß√£o dos Scale Sets por regi√£o."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "ScaleSets"},
                  "name": "infra-scalesets"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/availabilitysets' | summarize count() by location",
                    "size": 1,
                    "title": "Availability Sets por Regi√£o",
                    "visualization": "tiles",
                    "legend": "Availability Sets distribu√≠dos por regi√£o."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "AvailSets"},
                  "name": "infra-availsets"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/disks' | summarize count() by sku.name",
                    "size": 1,
                    "title": "Discos por SKU",
                    "visualization": "barchart",
                    "legend": "Tipos de discos em uso."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "Disks"},
                  "name": "infra-disks"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/snapshots' | summarize count() by location",
                    "size": 1,
                    "title": "Snapshots por Regi√£o",
                    "visualization": "piechart",
                    "legend": "Snapshots distribu√≠dos por regi√£o."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "Snapshots"},
                  "name": "infra-snapshots"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources | where type == 'microsoft.compute/images' | summarize count() by location",
                    "size": 1,
                    "title": "Imagens por Regi√£o",
                    "visualization": "tiles",
                    "legend": "Imagens customizadas por regi√£o."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "Images"},
                  "name": "infra-images"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resourcecontainers | where type == 'microsoft.resources/resourcegroups' | summarize count() by location",
                    "size": 1,
                    "title": "Resource Groups por Regi√£o",
                    "visualization": "barchart",
                    "legend": "Resource Groups distribu√≠dos por regi√£o."
                  },
                  "conditionalVisibility": {"parameterName": "SubTabInfra", "comparison": "isEqualTo", "value": "ResourceGroups"},
                  "name": "infra-resourcegroups"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda:</b><br>As visualiza√ß√µes de infraestrutura utilizam m√©tricas e status oficiais do Azure Monitor:<ul><li><span style='color:#1976d2;font-weight:bold;'>Azul</span>: Operacional</li><li><span style='color:#fbc02d;font-weight:bold;'>Amarelo</span>: Aten√ß√£o</li><li><span style='color:#d32f2f;font-weight:bold;'>Vermelho</span>: Cr√≠tico</li><li><span style='color:#616161;font-weight:bold;'>Cinza</span>: Indispon√≠vel</li></ul>Distribui√ß√µes por regi√£o/SKU seguem <a href='https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-monitor-data' target='_blank'>documenta√ß√£o oficial</a>.</div>"
                  },
                  "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Infra"},
                  "name": "legenda-infra"
                }
              ]
            },
            "conditionalVisibility": {"parameterName": "TabMain", "comparison": "isEqualTo", "value": "Infra"},
            "name": "Infra Futurist"
          }
        ]
      },
      "name": "Header Futurist"
    }
  ]
}
