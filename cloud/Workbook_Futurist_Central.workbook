{
"version": "Notebook/1.0",
"items": [
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 1,
"content": {
"json": "<h1 style=\"color: #003366; background: linear-gradient(90deg,#e6f7ff,#b3c6e6); padding: 20px; border-radius: 12px; text-shadow: 0 2px 8px #000; font-size: 2.5em; letter-spacing: 2px;\">üåå Azure Futurist Observability Center</h1>\n<p style=\"color:#003366; font-size:1.2em;\">Vis√£o centralizada, interativa e visualmente impactante de toda a sua nuvem Azure. KPIs, status, tend√™ncias e insights em tempo real, com navega√ß√£o intuitiva e legendas explicativas.\n</p>"
},
"name": "header-futurist"
},
{
"type": 1,
"content": {
"json": "<div style=\"display:flex;align-items:center;justify-content:space-between;background:#e3f2fd;padding:10px 20px;border-radius:10px;margin-bottom:10px;\"><span style=\"font-size:1.1em;color:#003366;\"><b>Bem-vindo ao Futurist Workbook!</b> <span style=\"background:#ffd700;color:#003366;padding:2px 8px;border-radius:6px;font-size:0.9em;\">Novo</span></span><button onclick=\"window.open('https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-overview','_blank')\" style=\"background:#003366;color:#fff;border:none;padding:6px 16px;border-radius:6px;cursor:pointer;font-size:0.95em;\">Ajuda & Exemplos</button></div>"
},
"name": "header-onboarding"
},
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "199eea3c-8bcd-476b-9725-bd30f531678a",
"version": "KqlParameterItem/1.0",
"name": "Subscription",
"label": "Subscriptions",
"type": 6,
"isRequired": true,
"multiSelect": true,
"quote": "'",
"delimiter": ",",
"value": [],
"typeSettings": {
"additionalResourceOptions": [
"value::all"
],
"includeAll": true,
"showDefault": false
}
},
{
"id": "f41ba5f7-61b4-457e-8700-2e4e70d69264",
"version": "KqlParameterItem/1.0",
"name": "LogAnalyticsWorkspace",
"label": "Log Analytics Workspace",
"type": 5,
"isRequired": true,
"multiSelect": true,
"quote": "'",
"delimiter": ",",
"query": "where type =~ 'microsoft.operationalinsights/workspaces'\r\n| summarize by id, name\r\n| project id",
"crossComponentResources": [
"value::all"
],
"typeSettings": {
"additionalResourceOptions": [
"value::all"
],
"showDefault": false
},
"defaultValue": "value::all",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
{
"id": "bd401b11-047b-4fa5-9a5d-6eef4d5195d4",
"version": "KqlParameterItem/1.0",
"name": "timerange",
"label": "Time Range",
"type": 4,
"value": {
"durationMs": 900000
},
"typeSettings": {
"selectableValues": [
{
"durationMs": 900000
},
{
"durationMs": 1800000
},
{
"durationMs": 3600000
},
{
"durationMs": 14400000
},
{
"durationMs": 43200000
},
{
"durationMs": 86400000
},
{
"durationMs": 259200000
},
{
"durationMs": 604800000
},
{
"durationMs": 1209600000
},
{
"durationMs": 2419200000
},
{
"durationMs": 2592000000
},
{
"durationMs": 5184000000
},
{
"durationMs": 7776000000
}
]
}
},
{
"id": "f3a9fee7-3c74-419a-8c60-5587da42bde1",
"version": "KqlParameterItem/1.0",
"name": "Help",
"label": "Show Help",
"type": 10,
"isRequired": true,
"typeSettings": {
"additionalResourceOptions": []
},
"jsonData": "[{ \"value\": \"true\", \"label\": \"Yes\"}, { \"value\": \"false\", \"label\": \"No\", \"selected\":true }]"
}
],
"style": "formVertical",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"customWidth": "30",
"name": "parameters - 0"
},
{
"type": 1,
"content": {
"json": "<div style=\"margin:10px 0 20px 0;display:flex;gap:10px;flex-wrap:wrap;\"><span style=\"background:#1976d2;color:#fff;padding:4px 12px;border-radius:8px;font-size:0.95em;\">üîÑ Atualiza√ß√£o autom√°tica ativada</span><span style=\"background:#ffd700;color:#003366;padding:4px 12px;border-radius:8px;font-size:0.95em;\">‚ö†Ô∏è KPIs em tempo real</span><span style=\"background:#d32f2f;color:#fff;padding:4px 12px;border-radius:8px;font-size:0.95em;\">üî• Alertas cr√≠ticos</span></div>"
},
"name": "badges-status"
},
{
"type": 11,
"content": {
"version": "LinkItem/1.0",
"style": "toolbar",
"links": [
{
"id": "2ac358af-2c49-4b04-9950-0273cbfe4886",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üåê Vis√£o Geral",
"subTarget": "Overview",
"style": "link",
"icon": "Dashboard"
},
{
"id": "911c3304-600a-42dc-9494-7a6385802a08",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üï∏Ô∏è Networking",
"subTarget": "Networking",
"style": "link",
"icon": "Connect"
},
{
"id": "4cf1773e-4562-40be-8011-94146094c124",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üß© Apps",
"subTarget": "Apps",
"style": "link",
"icon": "WebApp"
},
{
"id": "4aa57b90-2f60-4680-9afa-c2bc96548e32",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üóÑÔ∏è Dados",
"subTarget": "Data",
"style": "link",
"icon": "Database"
},
{
"id": "3bfb312c-6489-46a3-b7bd-c34dd3d43f8b",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üì¶ Containers",
"subTarget": "Containers",
"style": "link",
"icon": "Container"
},
{
"id": "2f85c4b2-1dd5-4707-ad4a-ec4da2a41c89",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üß† IA & ML",
"subTarget": "AI",
"style": "link",
"icon": "CognitiveServicesAI"
},
{
"id": "e98cdde2-8a5c-4027-8644-2cbb0b99ffd7",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üõ°Ô∏è Seguran√ßa",
"subTarget": "Security",
"style": "link",
"icon": "Lock"
},
{
"id": "9f9e1493-f000-4762-8819-baf41c8fdde3",
"cellValue": "TabMain",
"linkTarget": "parameter",
"linkLabel": "üèóÔ∏è Infraestrutura",
"subTarget": "Infra",
"style": "link",
"icon": "Columns"
}
]
},
"name": "tabs-futurist"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize total=count(), running=countif(properties.provisioningState == 'Succeeded'), stopped=countif(properties.provisioningState == 'Stopped' or properties.provisioningState == 'Deallocated'), unhealthy=countif(properties.provisioningState != 'Succeeded' and properties.provisioningState != 'Stopped' and properties.provisioningState != 'Deallocated') | project total, running, stopped, unhealthy | take 100",
"size": 1,
"title": "Status Global de Recursos",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"gridSettings": {
"formatters": [
{
"columnMatch": "unhealthy",
"formatter": {
"type": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": ">=",
"thresholdValue": "10",
"representation": "error",
"text": "Ruim"
},
{
"operator": ">=",
"thresholdValue": "3",
"representation": "warning",
"text": "Aten√ß√£o"
},
{
"operator": "Default",
"representation": "success",
"text": "Excelente"
}
]
}
},
"numberFormat": {
"unit": 1,
"options": {
"style": "decimal"
}
}
}
]
},
"tileSettings": {
"titleContent": {
"columnMatch": "total",
"formatter": 1
},
"leftContent": {
"columnMatch": "running",
"formatter": 12,
"formatOptions": {
"palette": "auto"
}
},
"rightContent": {
"columnMatch": "unhealthy",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": ">=",
"thresholdValue": "10",
"representation": "error",
"text": "Ruim",
"icon": "Error",
"iconColor": "#ff4c4c",
"iconSize": "large",
"iconStyle": "solid"
},
{
"operator": ">=",
"thresholdValue": "3",
"representation": "warning",
"text": "Aten√ß√£o",
"icon": "Warning",
"iconColor": "#ffd700",
"iconSize": "large",
"iconStyle": "solid"
},
{
"operator": "Default",
"representation": "success",
"text": "Excelente",
"icon": "Success",
"iconColor": "#4caf50",
"iconSize": "large",
"iconStyle": "solid"
}
]
}
}
}
},
"name": "kpi-global-status"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | summarize total=count(), openai=countif(kind =~ 'OpenAI'), cognitive=countif(kind != 'OpenAI'), search=countif(type =~ 'microsoft.search/searchservices'), ml=countif(type =~ 'microsoft.machinelearningservices/workspaces') | project total, openai, cognitive, search, ml",
"size": 1,
"title": "Recursos de IA & ML",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"visualization": "tiles",
"tileSettings": {
"titleContent": {
"columnMatch": "total",
"formatter": 1,
"formatOptions": {
"showIcon": true
}
},
"leftContent": {
"columnMatch": "openai",
"formatter": 12,
"formatOptions": {
"palette": "purpleBlue"
},
"numberFormat": {
"unit": 17,
"options": {
"style": "decimal",
"useGrouping": true
}
}
},
"rightContent": {
"columnMatch": "ml",
"formatter": 12,
"formatOptions": {
"palette": "greenBlue"
},
"numberFormat": {
"unit": 17,
"options": {
"style": "decimal",
"useGrouping": true
}
}
},
"secondaryContent": {
"columnMatch": "cognitive",
"formatter": 12,
"formatOptions": {
"palette": "purple"
},
"numberFormat": {
"unit": 17,
"options": {
"style": "decimal",
"useGrouping": true
}
}
},
"showBorder": true
},
"mapSettings": {
"locInfo": "LatLong"
}
},
"name": "ai-resources-overview"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#e3f2fd;padding:10px;border-radius:8px;margin-top:10px;\"><b>Legenda dos KPIs:</b><br>Os KPIs exibem o total de recursos, quantidade em execu√ß√£o, parados e n√£o saud√°veis. Os status seguem a sem√¢ntica oficial do Azure Monitor:<br><ul><li><span style='color:#00bfae;font-weight:bold;'>Executando</span>: Recurso operacional</li><li><span style='color:#ffd700;font-weight:bold;'>Parado</span>: Recurso desligado</li><li><span style='color:#ff4c4c;font-weight:bold;'>N√£o saud√°vel</span>: Recurso com falha ou indispon√≠vel</li></ul>Para mais detalhes, consulte a <a href='https://learn.microsoft.com/azure/azure-monitor/essentials/workbooks-monitor-data' target='_blank'>documenta√ß√£o oficial do Azure Monitor</a>.</div>"
},
"name": "legenda-kpi"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.cognitiveservices/accounts' | extend SKU = tostring(sku.name), Kind = kind | join kind=leftouter ( resources | where type =~ 'microsoft.machinelearningservices/workspaces' | extend Kind = 'Machine Learning', SKU = tostring(sku.name) ) on Kind | summarize count() by SKU, Kind | order by Kind, SKU",
"size": 1,
"title": "Distribui√ß√£o de SKUs de IA por Servi√ßo",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"visualization": "categoricalbar",
"gridSettings": {
"filter": true
},
"chartSettings": {
"xAxis": "SKU",
"yAxis": [
"count_"
],
"group": "Kind",
"createOtherGroup": null
}
},
"name": "ai-sku-distribution"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#f3f9ff;padding:10px;border-radius:8px;margin-top:10px;\"><b>üîç Sabia mais sobre IA na guia principal:</b><br>Acesse a guia <b>üß† IA & ML</b> para visualiza√ß√µes detalhadas sobre todos os servi√ßos de IA do Azure, incluindo OpenAI, Azure AI Search, ML Services, Vis√£o Computacional e mais. M√©tricas detalhadas de uso, performance e disponibilidade est√£o dispon√≠veis para cada servi√ßo.<br><span style=\"color:#1976d2;\">Clique na guia IA & ML para explorar m√©tricas detalhadas de todos os seus servi√ßos de intelig√™ncia artificial.</span></div>"
},
"name": "ai-tab-promo"
}
]
},
"conditionalVisibility": {
"parameterName": "TabMain",
"comparison": "isEqualTo",
"value": "Overview"
},
"name": "Overview Futurist"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "TabNetwork",
"name": "TabNetwork",
"label": "Categoria de Rede",
"type": 1,
"isRequired": false,
"value": "NetOverview",
"typeSettings": {
"parameterMode": "navigation"
}
}
],
"style": "pills",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"name": "network-parameters"
},
{
"type": 11,
"content": {
"version": "LinkItem/1.0",
"style": "nav",
"links": [
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üó∫Ô∏è Vis√£o Geral",
"subTarget": "NetOverview",
"style": "link",
"icon": "Dashboard"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üåê Virtual Network",
"subTarget": "VNet",
"style": "link",
"icon": "Network"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üõ°Ô∏è NSG",
"subTarget": "NSG",
"style": "link",
"icon": "Shield"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üë• ASG",
"subTarget": "ASG",
"style": "link",
"icon": "Group"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üîÄ Load Balancer",
"subTarget": "LB",
"style": "link",
"icon": "Switch"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üåÄ Application Gateway",
"subTarget": "AppGW",
"style": "link",
"icon": "Gateway"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üîí VPN Gateway",
"subTarget": "VPNGW",
"style": "link",
"icon": "VpnGateway"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "‚ö° ExpressRoute",
"subTarget": "ExpressRoute",
"style": "link",
"icon": "ExpressRoute"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üî• Firewall",
"subTarget": "FW",
"style": "link",
"icon": "Firewall"
},
{
"cellValue": "TabNetwork",
"linkTarget": "parameter",
"linkLabel": "üö¶ Traffic Manager",
"subTarget": "TrafficManager",
"style": "link",
"icon": "TrafficManager"
}
]
},
"name": "submenu-networking"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Networking</h2><p style=\"color:#003366\">Vis√£o detalhada de recursos de rede. Selecione um submenu acima.</p>"
},
"name": "net-overview"
}
]
},
"conditionalVisibility": {
"parameterName": "TabNetwork",
"comparison": "isEqualTo",
"value": "NetOverview"
},
"name": "group-network-overview"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Virtual Networks</h2><p style=\"color:#003366\">Vis√£o geral, m√©tricas e status das redes virtuais no Azure.</p>"
},
"name": "net-vnet-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.network/virtualnetworks' | project name, resourceGroup, location, addressSpace, subnet = properties.subnets[0].name, subnetAddressPrefix = properties.subnets[0].addressPrefix, nsg = properties.networkSecurityGroup.id, routeTable = properties.routeTable.id, provisioningState | order by name asc",
"title": "Lista de Redes Virtuais",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
},
{
"columnMatch": "subnetAddressPrefix",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "nsg",
"formatter": 18,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "routeTable",
"formatter": 18,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "addressSpace",
"label": "Espa√ßo de Endere√ßo"
},
{
"columnId": "subnet",
"label": "Subnet"
},
{
"columnId": "nsg",
"label": "NSG"
},
{
"columnId": "routeTable",
"label": "Route Table"
}
]
}
},
"name": "vnet-list"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.network/virtualnetworks' | mv-expand subnet = properties.subnets | project name, resourceGroup, location, subnetName = subnet.name, subnetAddressPrefix = subnet.addressPrefix, nsg = subnet.networkSecurityGroup.id | order by name asc",
"title": "Detalhes das Subnets",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "subnetAddressPrefix",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "nsg",
"formatter": 18,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "subnetName",
"label": "Nome da Subnet"
},
{
"columnId": "subnetAddressPrefix",
"label": "Prefixo de Endere√ßo"
},
{
"columnId": "nsg",
"label": "NSG"
}
]
}
},
"name": "vnet-subnet-details"
}
]
},
"conditionalVisibility": {
"parameterName": "TabNetwork",
"comparison": "isEqualTo",
"value": "VNet"
},
"name": "group-network-vnet"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "FirewallResource",
"name": "FirewallResource",
"label": "Azure Firewall",
"type": 5,
"isRequired": false,
"multiSelect": false,
"query": "resources | where type =~ 'microsoft.network/azurefirewalls' | project id, name | order by name asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": []
},
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
}
],
"style": "above",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
"name": "firewall-params"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Azure Firewall</h2><p style=\"color:#003366\">An√°lise de configura√ß√£o, regras e tr√°fego do Azure Firewall.</p>"
},
"name": "net-firewall-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.network/azurefirewalls' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Lista de Azure Firewalls",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "firewall-list"
}
]
},
"conditionalVisibility": {
"parameterName": "TabNetwork",
"comparison": "isEqualTo",
"value": "FW"
},
"name": "group-network-firewall"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "LoadBalancerResource",
"name": "LoadBalancerResource",
"label": "Load Balancer",
"type": 5,
"isRequired": false,
"multiSelect": false,
"query": "resources | where type =~ 'microsoft.network/loadbalancers' | project id, name | order by name asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": []
},
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
}
],
"style": "above",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
"name": "lb-parameter"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Load Balancers</h2><p style=\"color:#003366\">Monitoramento e an√°lise de Load Balancers, incluindo status, regras, health probes e balanceamento de tr√°fego.</p>"
},
"name": "net-lb-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.network/loadbalancers' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Lista de Load Balancers",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "lb-list"
}
]
},
"conditionalVisibility": {
"parameterName": "TabNetwork",
"comparison": "isEqualTo",
"value": "LB"
},
"name": "group-network-lb"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "TrafficManagerResource",
"name": "TrafficManagerResource",
"label": "Traffic Manager",
"type": 5,
"isRequired": false,
"multiSelect": false,
"query": "resources | where type =~ 'microsoft.network/trafficmanagerprofiles' | project id, name | order by name asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": []
},
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
}
],
"style": "above",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
"name": "traffic-manager-params"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Traffic Manager</h2><p style=\"color:#003366\">Monitoramento e an√°lise de Traffic Manager, incluindo status, endpoints, disponibilidade e performance.</p>"
},
"name": "net-tm-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.network/trafficmanagerprofiles' | project name, resourceGroup, location, trafficRoutingMethod = properties.trafficRoutingMethod, dnsConfig = properties.dnsConfig.fqdn, endpointCount = array_length(properties.endpoints) | order by name asc",
"title": "Lista de Traffic Managers",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "trafficRoutingMethod",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "dnsConfig",
"formatter": 18,
"formatOptions": {
"linkTarget": "Url",
"linkLabel": "{0}",
"linkIsContextBlade": false
}
},
{
"columnMatch": "endpointCount",
"formatter": 4,
"formatOptions": {
"palette": "greenRed"
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "trafficRoutingMethod",
"label": "M√©todo de Roteamento"
},
{
"columnId": "dnsConfig",
"label": "DNS"
},
{
"columnId": "endpointCount",
"label": "Qtd. Endpoints"
}
]
}
},
"name": "traffic-manager-list"
}
]
},
"conditionalVisibility": {
"parameterName": "TabNetwork",
"comparison": "isEqualTo",
"value": "TrafficManager"
},
"name": "group-network-trafficmanager"
}
]
},
"conditionalVisibility": {
"parameterName": "TabMain",
"comparison": "isEqualTo",
"value": "Networking"
},
"name": "group-networking"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "TabContainers",
"name": "TabContainers",
"label": "Tipo de Container",
"type": 1,
"isRequired": false,
"value": "ContainersOverview",
"typeSettings": {
"parameterMode": "navigation"
}
}
],
"style": "pills",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"name": "containers-parameters"
},
{
"type": 11,
"content": {
"version": "LinkItem/1.0",
"style": "nav",
"links": [
{
"cellValue": "TabContainers",
"linkTarget": "parameter",
"linkLabel": "üìä Vis√£o Geral",
"subTarget": "ContainersOverview",
"style": "link",
"icon": "Dashboard"
},
{
"cellValue": "TabContainers",
"linkTarget": "parameter",
"linkLabel": "üåê Azure Kubernetes Service",
"subTarget": "AKS",
"style": "link",
"icon": "Kubernetes"
},
{
"cellValue": "TabContainers",
"linkTarget": "parameter",
"linkLabel": "üîÑ Azure Red Hat OpenShift",
"subTarget": "ARO",
"style": "link",
"icon": "RedHat"
},
{
"cellValue": "TabContainers",
"linkTarget": "parameter",
"linkLabel": "üì¶ Azure Container Instances",
"subTarget": "ACI",
"style": "link",
"icon": "Container"
}
]
},
"name": "submenu-containers"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Vis√£o Geral de Cont√™ineres</h2>\n<p style=\"color:#003366\">An√°lise resumida de todos os servi√ßos de cont√™iner no Azure, incluindo AKS, ARO e Azure Container Instances.</p>"
},
"name": "containers-overview-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type =~ 'microsoft.containerservice/managedclusters' or type =~ 'microsoft.redhatopenshift/openshiftclusters' or type =~ 'microsoft.containerinstance/containergroups'\n| extend resourceType = case(\n type =~ 'microsoft.containerservice/managedclusters', 'AKS',\n type =~ 'microsoft.redhatopenshift/openshiftclusters', 'ARO',\n type =~ 'microsoft.containerinstance/containergroups', 'ACI',\n 'Outro')\n| summarize count() by resourceType\n| order by resourceType asc",
"title": "Distribui√ß√£o de Recursos de Container",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "piechart",
"chartSettings": {
"seriesLabelSettings": [
{
"seriesName": "AKS",
"color": "#0078D4",
"label": "Azure Kubernetes Service"
},
{
"seriesName": "ARO",
"color": "#EE0000",
"label": "Azure Red Hat OpenShift"
},
{
"seriesName": "ACI",
"color": "#50e6ff",
"label": "Azure Container Instances"
}
]
}
},
"customWidth": "50",
"name": "containers-distribution-chart"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type =~ 'microsoft.containerservice/managedclusters' or type =~ 'microsoft.redhatopenshift/openshiftclusters'\n| extend clusterType = iff(type =~ 'microsoft.containerservice/managedclusters', 'AKS', 'ARO')\n| extend version = iff(clusterType == 'AKS', tostring(properties.kubernetesVersion), tostring(properties.clusterProfile.version))\n| summarize count() by clusterType, version\n| order by clusterType asc, version desc",
"title": "Distribui√ß√£o de Clusters por Vers√£o",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "piechart",
"chartSettings": {
"seriesLabelSettings": [
{
"seriesName": "AKS",
"color": "#0078D4"
},
{
"seriesName": "ARO",
"color": "#EE0000"
}
]
}
},
"customWidth": "50",
"name": "clusters-version-chart"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#f3f9ff;padding:15px;border-radius:8px;margin:10px 0px\">\n<h3 style=\"margin-top:0\">üîç Insights de Containers</h3>\n<p>Escolha uma das op√ß√µes de menu acima para an√°lises detalhadas sobre:</p>\n<ul>\n<li><b>Azure Kubernetes Service (AKS)</b>: clusters Kubernetes, pools de n√≥s, pods, deployments, e m√©tricas de performance</li>\n<li><b>Azure Red Hat OpenShift (ARO)</b>: clusters OpenShift, workers, master nodes e logs de sistema</li>\n<li><b>Azure Container Instances (ACI)</b>: grupos de containers, uso de recursos, logs e hist√≥rico de execu√ß√£o</li>\n</ul>\n</div>"
},
"name": "containers-intro-text"
}
]
},
"conditionalVisibility": {
"parameterName": "TabContainers",
"comparison": "isEqualTo",
"value": "ContainersOverview"
},
"name": "group-containers-overview"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "aks-cluster",
"name": "AKSCluster",
"label": "AKS Cluster",
"type": 5,
"isRequired": false,
"multiSelect": false,
"quote": "'",
"delimiter": ",",
"query": "resources\n| where type == 'microsoft.containerservice/managedclusters'\n| project value = id, label = name\n| order by label asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": [
"value::1"
]
},
"defaultValue": "value::1",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
{
"id": "aks-namespace",
"name": "AKSNamespace",
"label": "Namespace",
"type": 2,
"isRequired": false,
"multiSelect": true,
"quote": "'",
"delimiter": ",",
"query": "KubePodInventory\n| where ClusterName has \"{AKSCluster}\"\n| distinct Namespace\n| order by Namespace asc\n| project Namespace",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"typeSettings": {
"additionalResourceOptions": [
"value::all"
],
"showDefault": false
},
"defaultValue": "value::all",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
}
],
"style": "pills",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"name": "aks-parameters"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366;\">Azure Kubernetes Service (AKS)</h2>\n<p style=\"color:#003366;\">Monitoramento detalhado dos clusters AKS, n√≥s master, n√≥s de trabalho e outros recursos.</p>"
},
"name": "aks-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type == 'microsoft.containerservice/managedclusters'\n| extend version = properties.kubernetesVersion\n| extend nodeResourceGroup = properties.nodeResourceGroup\n| extend dnsPrefix = properties.dnsPrefix\n| extend agentPoolProfiles = properties.agentPoolProfiles\n| extend networkProfile = properties.networkProfile\n| extend nodePools = array_length(iff(isnotempty(properties.agentPoolProfiles), properties.agentPoolProfiles, dynamic([])))\n| extend skuTier = properties.sku.tier\n| extend provisioningState = properties.provisioningState\n| project name, resourceGroup, location, version, provisioningState, nodePools, skuTier, nodeResourceGroup, dnsPrefix",
"size": 0,
"title": "Azure Kubernetes Service Clusters",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Creating",
"representation": "pending",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Updating",
"representation": "2",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "4",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Deleting",
"representation": "stopped",
"text": "{0}"
}
]
}
},
{
"columnMatch": "nodePools",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
}
],
"filter": true
}
},
"name": "aks-clusters"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type == 'microsoft.containerservice/managedclusters'\n| where id == '{AKSCluster}' or isempty('{AKSCluster}')\n| mvexpand agentPool = properties.agentPoolProfiles\n| project poolName = tostring(agentPool.name), vmSize = tostring(agentPool.vmSize), count = toint(agentPool.count), diskSize = toint(agentPool.diskSizeGB), mode = tostring(agentPool.mode), maxPods = toint(agentPool.maxPods), osType = tostring(agentPool.osType), subnetId = tostring(agentPool.vnetSubnetId)\n| extend subnetName = iif(isempty(subnetId), 'Default', tolower(split(subnetId, '/')[-1]))\n| order by poolName asc",
"size": 0,
"title": "Agent Pools",
"noDataMessage": "Selecione um cluster AKS para visualizar detalhes dos node pools",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "count",
"formatter": 3,
"formatOptions": {
"palette": "redBright"
}
},
{
"columnMatch": "diskSize",
"formatter": 3,
"formatOptions": {
"palette": "greenRed"
}
},
{
"columnMatch": "maxPods",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "osType",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Linux",
"representation": "Ubuntu",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Windows",
"representation": "WindowsLogo",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "poolName",
"label": "Nome do Pool"
},
{
"columnId": "vmSize",
"label": "Tamanho VM"
},
{
"columnId": "count",
"label": "Qtd. N√≥s"
},
{
"columnId": "diskSize",
"label": "Tamanho Disco (GB)"
},
{
"columnId": "mode",
"label": "Modo"
},
{
"columnId": "maxPods",
"label": "Max Pods"
},
{
"columnId": "osType",
"label": "Sistema Operacional"
},
{
"columnId": "subnetName",
"label": "Subnet"
}
]
}
},
"name": "aks-node-pools"
},
{
"type": 10,
"content": {
"chartId": "workbook46992494-a69a-45a3-8d8c-3e6cb536583d",
"version": "MetricsItem/2.0",
"size": 0,
"chartType": 2,
"resourceType": "microsoft.containerservice/managedclusters",
"metricScope": 0,
"resourceParameter": "AKSCluster",
"resourceIds": [
"{AKSCluster}"
],
"timeContextFromParameter": "timerange",
"timeContext": {
"durationMs": 86400000
},
"metrics": [
{
"namespace": "microsoft.containerservice/managedclusters",
"metric": "microsoft.containerservice/managedclusters--node_cpu_usage_percentage",
"aggregation": 4,
"splitBy": null
},
{
"namespace": "microsoft.containerservice/managedclusters",
"metric": "microsoft.containerservice/managedclusters--node_memory_working_set_percentage",
"aggregation": 4
}
],
"title": "Utiliza√ß√£o de CPU e Mem√≥ria do Cluster",
"gridFormatType": 1,
"tileSettings": {
"showBorder": false,
"titleContent": {
"columnMatch": "Name",
"formatter": 13
},
"leftContent": {
"columnMatch": "Value",
"formatter": 12,
"formatOptions": {
"palette": "auto"
},
"numberFormat": {
"unit": 17,
"options": {
"maximumSignificantDigits": 3,
"maximumFractionDigits": 2
}
}
}
}
},
"conditionalVisibility": {
"parameterName": "AKSCluster",
"comparison": "isNotEqualTo",
"value": ""
},
"name": "aks-cpu-mem-metrics"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "KubePodInventory\r\n| where ClusterName has \"{AKSCluster}\"\r\n| where Namespace in ({AKSNamespace}) or '_' in ({AKSNamespace})\r\n| summarize PodCount = count() by Namespace, ControllerKind\r\n| extend ResourceType = case(\r\n ControllerKind == \"DaemonSet\", \"üîÑ DaemonSet\",\r\n ControllerKind == \"ReplicaSet\", \"üì¶ ReplicaSet\",\r\n ControllerKind == \"StatefulSet\", \"üîí StatefulSet\",\r\n ControllerKind == \"Job\", \"‚öôÔ∏è Job\",\r\n ControllerKind == \"CronJob\", \"üïí CronJob\",\r\n \"üìã Outros\")\r\n| order by Namespace asc, PodCount desc",
"size": 0,
"title": "Distribui√ß√£o de Pods por Namespace e Tipo",
"noDataMessage": "N√£o foram encontrados pods no cluster selecionado ou a integra√ß√£o com Log Analytics n√£o est√° configurada",
"timeContext": {
"durationMs": 86400000
},
"timeContextFromParameter": "timerange",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "PodCount",
"formatter": 4,
"formatOptions": {
"palette": "redBright"
}
}
],
"hierarchySettings": {
"treeType": 1,
"groupBy": [
"Namespace"
]
}
}
},
"conditionalVisibility": {
"parameterName": "AKSCluster",
"comparison": "isNotEqualTo",
"value": ""
},
"name": "aks-pods-by-namespace"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "let clusterName = split('{AKSCluster}', '/')[8];\nKubeEvents\n| where ClusterName has clusterName\n| where Namespace in ({AKSNamespace}) or '_' in ({AKSNamespace})\n| where TimeGenerated > ago(1d)\n| where Reason has_any (\"Failed\", \"Error\", \"BackOff\", \"Unhealthy\")\n| project TimeGenerated, Namespace, Name, Reason, Message\n| sort by TimeGenerated desc\n| take 100",
"size": 0,
"title": "Eventos de Erro do Cluster (√öltimas 24h)",
"noDataMessage": "N√£o foram encontrados eventos de erro no per√≠odo",
"timeContext": {
"durationMs": 86400000
},
"timeContextFromParameter": "timerange",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"gridSettings": {
"filter": true
}
},
"conditionalVisibility": {
"parameterName": "AKSCluster",
"comparison": "isNotEqualTo",
"value": ""
},
"name": "aks-events"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#eff4f9;padding:10px;border-radius:4px;margin:10px 0px\">\n<p><i>‚ö†Ô∏è Nota:</i> Para obter m√©tricas mais detalhadas do AKS, √© necess√°rio configurar as integra√ß√µes de monitoramento espec√≠ficas para o Azure Kubernetes Service. Consulte a <a href=\"https://docs.microsoft.com/azure/aks/monitor-aks\" target=\"\_blank\">documenta√ß√£o oficial</a> para mais informa√ß√µes.</p>\n</div>"
},
"name": "aks-integration-note"
}
]
},
"conditionalVisibility": {
"parameterName": "TabContainers",
"comparison": "isEqualTo",
"value": "AKS"
},
"name": "group-containers-aks"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "aro-cluster",
"name": "AROCluster",
"label": "ARO Cluster",
"type": 5,
"isRequired": false,
"multiSelect": false,
"quote": "'",
"delimiter": ",",
"query": "resources\n| where type == 'microsoft.redhatopenshift/openshiftclusters'\n| project value = id, label = name\n| order by label asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": [
"value::1"
]
},
"defaultValue": "value::1",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
{
"id": "aro-namespace",
"name": "ARONamespace",
"label": "Namespace",
"type": 2,
"isRequired": false,
"multiSelect": true,
"quote": "'",
"delimiter": ",",
"query": "KubePodInventory\n| where ClusterName has \"{AROCluster}\"\n| distinct Namespace\n| order by Namespace asc\n| project Namespace",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"typeSettings": {
"additionalResourceOptions": [
"value::all"
],
"showDefault": false
},
"defaultValue": "value::all",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
}
],
"style": "pills",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"name": "aro-parameters"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366;\">Azure Red Hat OpenShift (ARO)</h2>\n<p style=\"color:#003366;\">Monitoramento detalhado dos clusters ARO, master nodes, worker nodes e outros recursos.</p>"
},
"name": "aro-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type == 'microsoft.redhatopenshift/openshiftclusters'\n| extend version = properties.clusterProfile.version\n| extend consoleUrl = properties.consoleProfile.url\n| extend masterCount = toint(properties.masterProfile.count)\n| extend masterVmSize = properties.masterProfile.vmSize\n| extend hasWorkerProfiles = isnotempty(properties.workerProfiles) and array_length(properties.workerProfiles) > 0\n| extend workerCount = iif(hasWorkerProfiles, toint(properties.workerProfiles[0].count), 0)\n| extend workerVmSize = iif(hasWorkerProfiles, tostring(properties.workerProfiles[0].vmSize), 'N/A')\n| extend workerDiskSize = iif(hasWorkerProfiles, toint(properties.workerProfiles[0].diskSizeGB), 0)\n| extend networkVnet = tolower(split(properties.masterProfile.subnetId, '/')[8])\n| extend apiVisibility = properties.apiserverProfile.visibility\n| extend ingressVisibility = properties.ingressProfiles[0].visibility\n| extend provisioningState = properties.provisioningState\n| project name, resourceGroup, location, version, provisioningState, masterCount, masterVmSize, workerCount, workerVmSize, workerDiskSize, networkVnet, apiVisibility, ingressVisibility, consoleUrl",
"size": 0,
"title": "Azure Red Hat OpenShift Clusters",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Creating",
"representation": "pending",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Updating",
"representation": "2",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "4",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Deleting",
"representation": "stopped",
"text": "{0}"
}
]
}
},
{
"columnMatch": "masterCount",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "12ch"
}
},
{
"columnMatch": "workerCount",
"formatter": 4,
"formatOptions": {
"palette": "redBright",
"customColumnWidthSetting": "12ch"
}
},
{
"columnMatch": "consoleUrl",
"formatter": 7,
"formatOptions": {
"linkTarget": "Url",
"linkLabel": "Abrir Console"
}
}
],
"filter": true
}
},
"name": "aro-clusters"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type == 'microsoft.redhatopenshift/openshiftclusters'\n| where id == '{AROCluster}'\n| mvexpand workerPool = properties.workerProfiles\n| project poolName = tostring(workerPool.name), vmSize = tostring(workerPool.vmSize), count = toint(workerPool.count), diskSize = toint(workerPool.diskSizeGB), subnetId = tostring(workerPool.subnetId)\n| extend subnetName = tolower(split(subnetId, '/')[10])\n| order by poolName asc",
"size": 0,
"title": "Worker Pools",
"noDataMessage": "Selecione um cluster ARO para visualizar detalhes",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "count",
"formatter": 3,
"formatOptions": {
"palette": "redBright"
}
},
{
"columnMatch": "diskSize",
"formatter": 3,
"formatOptions": {
"palette": "greenRed"
}
}
],
"labelSettings": [
{
"columnId": "poolName",
"label": "Nome do Pool"
},
{
"columnId": "vmSize",
"label": "Tamanho VM"
},
{
"columnId": "count",
"label": "Contagem"
},
{
"columnId": "diskSize",
"label": "Tamanho Disco (GB)"
},
{
"columnId": "subnetName",
"label": "Subnet"
}
]
}
},
"conditionalVisibilities": [
{
"parameterName": "AROCluster",
"comparison": "isNotEqualTo",
"value": ""
}
],
"name": "aro-worker-pools"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "KubePodInventory\r\n| where ClusterName has \"{AROCluster}\"\r\n| where Namespace in ({ARONamespace}) or '_' in ({ARONamespace})\r\n| summarize PodCount = count() by Namespace, ControllerKind\r\n| extend ResourceType = case(\r\n ControllerKind == \"DaemonSet\", \"üîÑ DaemonSet\",\r\n ControllerKind == \"ReplicaSet\", \"üì¶ ReplicaSet\",\r\n ControllerKind == \"StatefulSet\", \"üîí StatefulSet\",\r\n ControllerKind == \"Job\", \"‚öôÔ∏è Job\",\r\n ControllerKind == \"CronJob\", \"üïí CronJob\",\r\n \"üìã Outros\")\r\n| order by Namespace asc, PodCount desc",
"size": 0,
"title": "Distribui√ß√£o de Pods por Namespace e Tipo",
"noDataMessage": "N√£o foram encontrados pods no cluster selecionado ou a integra√ß√£o com Log Analytics n√£o est√° configurada",
"timeContext": {
"durationMs": 86400000
},
"timeContextFromParameter": "timerange",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "PodCount",
"formatter": 4,
"formatOptions": {
"palette": "redBright"
}
}
],
"hierarchySettings": {
"treeType": 1,
"groupBy": [
"Namespace"
]
}
}
},
"conditionalVisibility": {
"parameterName": "AROCluster",
"comparison": "isNotEqualTo",
"value": ""
},
"name": "aro-pods-namespace"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "let clusterName = split('{AROCluster}', '/')[8];\nContainerLog\n| where LogEntry has \"ARO\" or LogEntry has clusterName\n| where LogEntry has_any (\"error\", \"warning\", \"critical\")\n| project TimeGenerated, LogEntry, Computer\n| sort by TimeGenerated desc\n| take 100",
"size": 0,
"title": "Logs de Erros e Alertas de ARO",
"noDataMessage": "N√£o foram encontrados logs de erro - o cluster pode n√£o ter integra√ß√£o com Log Analytics ou n√£o h√° erros recentes",
"timeContext": {
"durationMs": 86400000
},
"timeContextFromParameter": "timerange",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces",
"crossComponentResources": [
"{LogAnalyticsWorkspace}"
],
"gridSettings": {
"filter": true
}
},
"conditionalVisibilities": [
{
"parameterName": "AROCluster",
"comparison": "isNotEqualTo",
"value": ""
}
],
"name": "aro-error-logs"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#eff4f9;padding:10px;border-radius:4px;margin:10px 0px\">\n<p><i>‚ö†Ô∏è Nota:</i> Para obter m√©tricas mais detalhadas do ARO, √© necess√°rio configurar as integra√ß√µes de monitoramento espec√≠ficas para o Red Hat OpenShift. Consulte a <a href='https://docs.microsoft.com/azure/openshift/howto-azure-monitor' target='_blank'>documenta√ß√£o oficial</a> para mais informa√ß√µes.</p>\n</div>"
},
"name": "aro-integration-note"
}
]
},
"conditionalVisibility": {
"parameterName": "TabContainers",
"comparison": "isEqualTo",
"value": "ARO"
},
"name": "group-containers-aro"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "aci-resource-group",
"name": "ACIResourceGroup",
"label": "Grupo de Recursos",
"type": 2,
"isRequired": false,
"multiSelect": true,
"quote": "'",
"delimiter": ",",
"query": "resources\n| where type =~ 'microsoft.containerinstance/containergroups'\n| distinct resourceGroup\n| order by resourceGroup asc",
"crossComponentResources": [
"{Subscription}"
],
"typeSettings": {
"additionalResourceOptions": [
"value::all"
],
"showDefault": false
},
"defaultValue": "value::all",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
}
],
"style": "pills",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources"
},
"name": "aci-parameters"
},
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366;\">Azure Container Instances (ACI)</h2>\n<p style=\"color:#003366;\">Monitoramento de grupos de containers, uso de recursos e detalhes operacionais.</p>"
},
"name": "aci-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type =~ 'microsoft.containerinstance/containergroups'\n| where resourceGroup in ({ACIResourceGroup}) or '_' in ({ACIResourceGroup})\n| extend osType = properties.osType\n| extend ipAddress = properties.ipAddress.ip\n| extend ports = properties.ipAddress.ports\n| extend dnsName = properties.ipAddress.dnsNameLabel\n| extend networkType = properties.ipAddress.type\n| extend provisioningState = properties.provisioningState\n| extend containersCount = array_length(properties.containers)\n| project name, resourceGroup, location, osType, provisioningState, ipAddress, networkType, containersCount",
"size": 0,
"title": "Azure Container Instances",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "osType",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Linux",
"representation": "Ubuntu",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Windows",
"representation": "WindowsLogo",
"text": "{0}"
}
]
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
},
{
"columnMatch": "containersCount",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
}
],
"filter": true,
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "osType",
"label": "SO"
},
{
"columnId": "provisioningState",
"label": "Estado"
},
{
"columnId": "ipAddress",
"label": "Endere√ßo IP"
},
{
"columnId": "networkType",
"label": "Tipo de Rede"
},
{
"columnId": "containersCount",
"label": "Qtd. Containers"
}
]
}
},
"name": "aci-list"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources\n| where type =~ 'microsoft.containerinstance/containergroups'\n| where resourceGroup in ({ACIResourceGroup}) or '_' in ({ACIResourceGroup})\n| mvexpand container = properties.containers\n| project name, containerName = tostring(container.name), containerImage = tostring(container.properties.image), cpuCount = toint(container.properties.resources.requests.cpu), memoryInGB = tofloat(container.properties.resources.requests.memoryInGB), ports = container.properties.ports",
"size": 0,
"title": "Detalhes dos Containers",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "containerImage",
"formatter": 7,
"formatOptions": {
"linkTarget": "Url",
"linkLabel": "{0}",
"linkIsContextBlade": false
}
},
{
"columnMatch": "cpuCount",
"formatter": 3,
"formatOptions": {
"palette": "red"
}
},
{
"columnMatch": "memoryInGB",
"formatter": 3,
"formatOptions": {
"palette": "blue"
}
}
],
"filter": true,
"hierarchySettings": {
"treeType": 1,
"groupBy": [
"name"
]
},
"labelSettings": [
{
"columnId": "name",
"label": "Grupo de Container"
},
{
"columnId": "containerName",
"label": "Nome do Container"
},
{
"columnId": "containerImage",
"label": "Imagem"
},
{
"columnId": "cpuCount",
"label": "CPU (cores)"
},
{
"columnId": "memoryInGB",
"label": "Mem√≥ria (GB)"
},
{
"columnId": "ports",
"label": "Portas"
}
]
}
},
"name": "aci-containers"
},
{
"type": 10,
"content": {
"chartId": "workbookf1ec7a5e-597a-4cee-a23d-8902e5c38c2b",
"version": "MetricsItem/2.0",
"size": 0,
"chartType": 2,
"resourceType": "microsoft.containerinstance/containergroups",
"metricScope": 1,
"query": "resources\n| where type =~ 'microsoft.containerinstance/containergroups'\n| where resourceGroup in ({ACIResourceGroup}) or '_' in ({ACIResourceGroup})\n| top 5 by name\n| project id",
"crossComponentResources": [
"{Subscription}"
],
"timeContext": {
"durationMs": 86400000
},
"timeContextFromParameter": "timerange",
"metrics": [
{
"namespace": "microsoft.containerinstance/containergroups",
"metric": "microsoft.containerinstance/containergroups--CpuUsage",
"aggregation": 4
},
{
"namespace": "microsoft.containerinstance/containergroups",
"metric": "microsoft.containerinstance/containergroups--MemoryUsage",
"aggregation": 4
}
],
"title": "Uso de CPU e Mem√≥ria (Top 5 Container Groups)",
"queryType": 1
},
"name": "aci-metrics"
},
{
"type": 1,
"content": {
"json": "<div style=\"background:#eff4f9;padding:10px;border-radius:4px;margin:10px 0px\">\n<p><i>üìå Nota:</i> O Azure Container Instances oferece uma forma r√°pida e simples de executar containers isolados sem gerenciar VMs ou adotar servi√ßos orquestrados. Para cargas de trabalho mais complexas, considere o uso de AKS.</p>\n</div>"
},
"name": "aci-note"
}
]
},
"conditionalVisibility": {
"parameterName": "TabContainers",
"comparison": "isEqualTo",
"value": "ACI"
},
"name": "group-containers-aci"
}
]
},
"conditionalVisibility": {
"parameterName": "TabMain",
"comparison": "isEqualTo",
"value": "Containers"
},
"name": "group-containers-main"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 9,
"content": {
"version": "KqlParameterItem/1.0",
"parameters": [
{
"id": "TabData",
"name": "TabData",
"label": "Servi√ßos de Dados",
"type": 1,
"value": "DataOverview",
"typeSettings": {
"parameterMode": "navigation"
}
}
],
"style": "pills",
"queryType": 0,
"resourceType": "microsoft.operationalinsights/workspaces"
},
"name": "data-parameters"
},
{
"type": 11,
"content": {
"version": "LinkItem/1.0",
"style": "nav",
"links": [
{
"id": "6e6434cf-0130-49bf-af54-ed48cc644721",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üìä Vis√£o Geral",
"subTarget": "DataOverview",
"style": "link"
},
{
"id": "32871d61-36a8-4116-9837-9b65c8333ce9",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üîÑ SQL",
"subTarget": "SQL",
"style": "link"
},
{
"id": "4c4faef0-652b-4c99-95ae-9381dfa1cf3e",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üê¨ MySQL",
"subTarget": "MySQL",
"style": "link"
},
{
"id": "bb1ee6e7-9e84-44f4-b2fd-3d2cfcccb707",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üêò PostgreSQL",
"subTarget": "PostgreSQL",
"style": "link"
},
{
"id": "90c1973d-472e-47ec-bf2b-5241fa278720",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üêã MariaDB",
"subTarget": "MariaDB",
"style": "link"
},
{
"id": "7bdec28c-c57a-4c2b-b566-cf00ed78acd9",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "üåê Cosmos DB",
"subTarget": "Cosmos",
"style": "link"
},
{
"id": "53e5049c-1b03-4483-a363-c5990798baf2",
"cellValue": "TabData",
"linkTarget": "parameter",
"linkLabel": "‚ö° Cache for Redis",
"subTarget": "Redis",
"style": "link"
}
]
},
"name": "submenu-data"
},
{
"type": 12,
"content": {
"version": "NotebookGroup/1.0",
"groupType": "editable",
"items": [
{
"type": 1,
"content": {
"json": "<h2 style=\"color:#003366\">Servi√ßos de Dados</h2>\n<p style=\"color:#003366\">Vis√£o geral dos servi√ßos de dados no Azure, incluindo bancos de dados relacionais, n√£o relacionais e servi√ßos de cache.</p>"
},
"name": "data-overview-header"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.sql/servers' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Servidores SQL",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "sql-servers"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.mysql/servers' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Servidores MySQL",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "mysql-servers"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.postgresql/servers' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Servidores PostgreSQL",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "postgresql-servers"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.mariadb/servers' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, provisioningState | order by name asc",
"title": "Servidores MariaDB",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "mariadb-servers"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.documentdb/databaseAccounts' | project name, resourceGroup, location, kind, consistencyPolicy = properties.consistencyPolicy.defaultConsistencyLevel, geoLocations = properties.geoLocation, enableAutomaticFailover = properties.enableAutomaticFailover, provisioningState | order by name asc",
"title": "Contas do Cosmos DB",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "consistencyPolicy",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "geoLocations",
"formatter": 18,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "enableAutomaticFailover",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "true",
"representation": "success",
"text": "Ativado"
},
{
"operator": "==",
"thresholdValue": "false",
"representation": "error",
"text": "Desativado"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "kind",
"label": "Tipo"
},
{
"columnId": "consistencyPolicy",
"label": "Pol√≠tica de Consist√™ncia"
},
{
"columnId": "geoLocations",
"label": "Localiza√ß√µes Geogr√°ficas"
},
{
"columnId": "enableAutomaticFailover",
"label": "Failover Autom√°tico"
}
]
}
},
"name": "cosmos-db-accounts"
},
{
"type": 3,
"content": {
"version": "KqlItem/1.0",
"query": "resources | where type =~ 'microsoft.cache/redis' | project name, resourceGroup, location, sku = properties.sku.name, tier = properties.sku.tier, capacity = properties.sku.capacity, enableNonSslPort = properties.enableNonSslPort, sslPort = properties.sslPort, provisioningState | order by name asc",
"title": "Cache para Redis",
"queryType": 1,
"resourceType": "microsoft.resourcegraph/resources",
"crossComponentResources": [
"{Subscription}"
],
"visualization": "table",
"gridSettings": {
"formatters": [
{
"columnMatch": "name",
"formatter": 13,
"formatOptions": {
"linkTarget": "Resource",
"showIcon": true
}
},
{
"columnMatch": "sku",
"formatter": 4,
"formatOptions": {
"palette": "blue",
"customColumnWidthSetting": "15ch"
}
},
{
"columnMatch": "provisioningState",
"formatter": 18,
"formatOptions": {
"thresholdsOptions": "icons",
"thresholdsGrid": [
{
"operator": "==",
"thresholdValue": "Succeeded",
"representation": "success",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Failed",
"representation": "failed",
"text": "{0}"
},
{
"operator": "==",
"thresholdValue": "Pending",
"representation": "pending",
"text": "{0}"
}
]
}
}
],
"labelSettings": [
{
"columnId": "name",
"label": "Nome"
},
{
"columnId": "resourceGroup",
"label": "Grupo de Recursos"
},
{
"columnId": "location",
"label": "Regi√£o"
},
{
"columnId": "sku",
"label": "SKU"
},
{
"columnId": "tier",
"label": "Camada"
},
{
"columnId": "capacity",
"label": "Capacidade"
},
{
"columnId": "enableNonSslPort",
"label": "Porta N√£o SSL"
},
{
"columnId": "sslPort",
"label": "Porta SSL"
},
{
"columnId": "provisioningState",
"label": "Estado"
}
]
}
},
"name": "redis-cache"
}
]
},
"conditionalVisibility": {
"parameterName": "TabMain",
"comparison": "isEqualTo",
"value": "Data"
},
"name": "group-data-main"
}
]
},
"name": "Header Futurist"
}
]
},
"name": "Header Futurist"
}
],
"fallbackResourceIds": [
"Azure Monitor"
],
"$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}
